import{g as yi,b as bi,r as s,j as r,R as wi,F as Xe,a as w,e as ee,s as fe,L as Lr,c as Ci,d as xi,f as jt,h as Ei,A as Rr,B as Si,P as Li,H as Ri}from"./index-tnQiTXzG.js";import{I as _n}from"./HoverTooltip-B8aoQOhz.js";var _r=bi();const _i=yi(_r);function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function nr(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Dr(...e){return t=>{let n=!1;const a=e.map(i=>{const o=nr(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():nr(e[i],null)}}}}function pt(...e){return s.useCallback(Dr(...e),e)}function Di(e,t){const n=s.createContext(t),a=o=>{const{children:v,...c}=o,h=s.useMemo(()=>c,Object.values(c));return r(n.Provider,{value:h,children:v})};a.displayName=e+"Provider";function i(o){const v=s.useContext(n);if(v)return v;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[a,i]}function ki(e,t=[]){let n=[];function a(o,v){const c=s.createContext(v),h=n.length;n=[...n,v];const f=R=>{var L;const{scope:x,children:Q,...$}=R,k=((L=x==null?void 0:x[e])==null?void 0:L[h])||c,q=s.useMemo(()=>$,Object.values($));return r(k.Provider,{value:q,children:Q})};f.displayName=o+"Provider";function u(R,x){var k;const Q=((k=x==null?void 0:x[e])==null?void 0:k[h])||c,$=s.useContext(Q);if($)return $;if(v!==void 0)return v;throw new Error(`\`${R}\` must be used within \`${o}\``)}return[f,u]}const i=()=>{const o=n.map(v=>s.createContext(v));return function(c){const h=(c==null?void 0:c[e])||o;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:h}}),[c,h])}};return i.scopeName=e,[a,Ii(i,...t)]}function Ii(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const v=a.reduce((c,{useScope:h,scopeName:f})=>{const R=h(o)[`__scope${f}`];return{...c,...R}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:v}),[v])}};return n.scopeName=t.scopeName,n}var an=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},Ti=wi.useId||(()=>{}),Mi=0;function gn(e){const[t,n]=s.useState(Ti());return an(()=>{n(a=>a??String(Mi++))},[e]),e||(t?`radix-${t}`:"")}function mt(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function Ai({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,i]=Ni({defaultProp:t,onChange:n}),o=e!==void 0,v=o?e:a,c=mt(n),h=s.useCallback(f=>{if(o){const R=typeof f=="function"?f(e):f;R!==e&&c(R)}else i(f)},[o,e,i,c]);return[v,h]}function Ni({defaultProp:e,onChange:t}){const n=s.useState(e),[a]=n,i=s.useRef(a),o=mt(t);return s.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),n}var Bn=s.forwardRef((e,t)=>{const{children:n,...a}=e,i=s.Children.toArray(n),o=i.find(Oi);if(o){const v=o.props.children,c=i.map(h=>h===o?s.Children.count(v)>1?s.Children.only(null):s.isValidElement(v)?v.props.children:null:h);return r(Dn,{...a,ref:t,children:s.isValidElement(v)?s.cloneElement(v,void 0,c):null})}return r(Dn,{...a,ref:t,children:n})});Bn.displayName="Slot";var Dn=s.forwardRef((e,t)=>{const{children:n,...a}=e;if(s.isValidElement(n)){const i=qi(n),o=Bi(a,n.props);return n.type!==s.Fragment&&(o.ref=t?Dr(t,i):i),s.cloneElement(n,o)}return s.Children.count(n)>1?s.Children.only(null):null});Dn.displayName="SlotClone";var Pi=({children:e})=>r(Xe,{children:e});function Oi(e){return s.isValidElement(e)&&e.type===Pi}function Bi(e,t){const n={...t};for(const a in t){const i=e[a],o=t[a];/^on[A-Z]/.test(a)?i&&o?n[a]=(...c)=>{o(...c),i(...c)}:i&&(n[a]=i):a==="style"?n[a]={...i,...o}:a==="className"&&(n[a]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function qi(e){var a,i;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=Fi.reduce((e,t)=>{const n=s.forwardRef((a,i)=>{const{asChild:o,...v}=a,c=o?Bn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r(c,{...v,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ui(e,t){e&&_r.flushSync(()=>e.dispatchEvent(t))}function $i(e,t=globalThis==null?void 0:globalThis.document){const n=mt(e);s.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var Vi="DismissableLayer",kn="dismissableLayer.update",Hi="dismissableLayer.pointerDownOutside",Wi="dismissableLayer.focusOutside",rr,kr=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ir=s.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:v,onDismiss:c,...h}=e,f=s.useContext(kr),[u,R]=s.useState(null),x=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,Q]=s.useState({}),$=pt(t,y=>R(y)),k=Array.from(f.layers),[q]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),L=k.indexOf(q),V=u?k.indexOf(u):-1,H=f.layersWithOutsidePointerEventsDisabled.size>0,Y=V>=L,P=Zi(y=>{const T=y.target,S=[...f.branches].some(F=>F.contains(T));!Y||S||(i==null||i(y),v==null||v(y),y.defaultPrevented||c==null||c())},x),U=zi(y=>{const T=y.target;[...f.branches].some(F=>F.contains(T))||(o==null||o(y),v==null||v(y),y.defaultPrevented||c==null||c())},x);return $i(y=>{V===f.layers.size-1&&(a==null||a(y),!y.defaultPrevented&&c&&(y.preventDefault(),c()))},x),s.useEffect(()=>{if(u)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(rr=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),ar(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=rr)}},[u,x,n,f]),s.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),ar())},[u,f]),s.useEffect(()=>{const y=()=>Q({});return document.addEventListener(kn,y),()=>document.removeEventListener(kn,y)},[]),r(Je.div,{...h,ref:$,style:{pointerEvents:H?Y?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,U.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,P.onPointerDownCapture)})});Ir.displayName=Vi;var ji="DismissableLayerBranch",Qi=s.forwardRef((e,t)=>{const n=s.useContext(kr),a=s.useRef(null),i=pt(t,a);return s.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r(Je.div,{...e,ref:i})});Qi.displayName=ji;function Zi(e,t=globalThis==null?void 0:globalThis.document){const n=mt(e),a=s.useRef(!1),i=s.useRef(()=>{});return s.useEffect(()=>{const o=c=>{if(c.target&&!a.current){let h=function(){Tr(Hi,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);a.current=!1},v=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(v),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function zi(e,t=globalThis==null?void 0:globalThis.document){const n=mt(e),a=s.useRef(!1);return s.useEffect(()=>{const i=o=>{o.target&&!a.current&&Tr(Wi,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ar(){const e=new CustomEvent(kn);document.dispatchEvent(e)}function Tr(e,t,n,{discrete:a}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?Ui(i,o):i.dispatchEvent(o)}var pn="focusScope.autoFocusOnMount",hn="focusScope.autoFocusOnUnmount",ir={bubbles:!1,cancelable:!0},Gi="FocusScope",Mr=s.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...v}=e,[c,h]=s.useState(null),f=mt(i),u=mt(o),R=s.useRef(null),x=pt(t,k=>h(k)),Q=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(a){let k=function(H){if(Q.paused||!c)return;const Y=H.target;c.contains(Y)?R.current=Y:ot(R.current,{select:!0})},q=function(H){if(Q.paused||!c)return;const Y=H.relatedTarget;Y!==null&&(c.contains(Y)||ot(R.current,{select:!0}))},L=function(H){if(document.activeElement===document.body)for(const P of H)P.removedNodes.length>0&&ot(c)};document.addEventListener("focusin",k),document.addEventListener("focusout",q);const V=new MutationObserver(L);return c&&V.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",q),V.disconnect()}}},[a,c,Q.paused]),s.useEffect(()=>{if(c){lr.add(Q);const k=document.activeElement;if(!c.contains(k)){const L=new CustomEvent(pn,ir);c.addEventListener(pn,f),c.dispatchEvent(L),L.defaultPrevented||(Yi(to(Ar(c)),{select:!0}),document.activeElement===k&&ot(c))}return()=>{c.removeEventListener(pn,f),setTimeout(()=>{const L=new CustomEvent(hn,ir);c.addEventListener(hn,u),c.dispatchEvent(L),L.defaultPrevented||ot(k??document.body,{select:!0}),c.removeEventListener(hn,u),lr.remove(Q)},0)}}},[c,f,u,Q]);const $=s.useCallback(k=>{if(!n&&!a||Q.paused)return;const q=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,L=document.activeElement;if(q&&L){const V=k.currentTarget,[H,Y]=Ki(V);H&&Y?!k.shiftKey&&L===Y?(k.preventDefault(),n&&ot(H,{select:!0})):k.shiftKey&&L===H&&(k.preventDefault(),n&&ot(Y,{select:!0})):L===V&&k.preventDefault()}},[n,a,Q.paused]);return r(Je.div,{tabIndex:-1,...v,ref:x,onKeyDown:$})});Mr.displayName=Gi;function Yi(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(ot(a,{select:t}),document.activeElement!==n)return}function Ki(e){const t=Ar(e),n=or(t,e),a=or(t.reverse(),e);return[n,a]}function Ar(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function or(e,t){for(const n of e)if(!Xi(n,{upTo:t}))return n}function Xi(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ji(e){return e instanceof HTMLInputElement&&"select"in e}function ot(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ji(e)&&t&&e.select()}}var lr=eo();function eo(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sr(e,t),e.unshift(t)},remove(t){var n;e=sr(e,t),(n=e[0])==null||n.resume()}}}function sr(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function to(e){return e.filter(t=>t.tagName!=="A")}var no="Portal",Nr=s.forwardRef((e,t)=>{var c;const{container:n,...a}=e,[i,o]=s.useState(!1);an(()=>o(!0),[]);const v=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return v?_i.createPortal(r(Je.div,{...a,ref:t}),v):null});Nr.displayName=no;function ro(e,t){return s.useReducer((n,a)=>t[n][a]??n,e)}var ln=e=>{const{present:t,children:n}=e,a=ao(t),i=typeof n=="function"?n({present:a.isPresent}):s.Children.only(n),o=pt(a.ref,io(i));return typeof n=="function"||a.isPresent?s.cloneElement(i,{ref:o}):null};ln.displayName="Presence";function ao(e){const[t,n]=s.useState(),a=s.useRef({}),i=s.useRef(e),o=s.useRef("none"),v=e?"mounted":"unmounted",[c,h]=ro(v,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const f=Qt(a.current);o.current=c==="mounted"?f:"none"},[c]),an(()=>{const f=a.current,u=i.current;if(u!==e){const x=o.current,Q=Qt(f);e?h("MOUNT"):Q==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(u&&x!==Q?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),an(()=>{if(t){let f;const u=t.ownerDocument.defaultView??window,R=Q=>{const k=Qt(a.current).includes(Q.animationName);if(Q.target===t&&k&&(h("ANIMATION_END"),!i.current)){const q=t.style.animationFillMode;t.style.animationFillMode="forwards",f=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=q)})}},x=Q=>{Q.target===t&&(o.current=Qt(a.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",R),t.addEventListener("animationend",R),()=>{u.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",R),t.removeEventListener("animationend",R)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:s.useCallback(f=>{f&&(a.current=getComputedStyle(f)),n(f)},[])}}function Qt(e){return(e==null?void 0:e.animationName)||"none"}function io(e){var a,i;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vn=0;function oo(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cr()),document.body.insertAdjacentElement("beforeend",e[1]??cr()),vn++,()=>{vn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vn--}},[])}function cr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qe=function(){return Qe=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Qe.apply(this,arguments)};function Pr(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function lo(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,o;a<i;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var tn="right-scroll-bar-position",nn="width-before-scroll-bar",so="with-scroll-bars-hidden",co="--removed-body-scroll-bar-size";function yn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uo(e,t){var n=s.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=t,n.facade}var fo=typeof window<"u"?s.useLayoutEffect:s.useEffect,ur=new WeakMap;function mo(e,t){var n=uo(null,function(a){return e.forEach(function(i){return yn(i,a)})});return fo(function(){var a=ur.get(n);if(a){var i=new Set(a),o=new Set(e),v=n.current;i.forEach(function(c){o.has(c)||yn(c,null)}),o.forEach(function(c){i.has(c)||yn(c,v)})}ur.set(n,e)},[e]),n}function go(e){return e}function po(e,t){t===void 0&&(t=go);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var v=t(o,a);return n.push(v),function(){n=n.filter(function(c){return c!==v})}},assignSyncMedium:function(o){for(a=!0;n.length;){var v=n;n=[],v.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){a=!0;var v=[];if(n.length){var c=n;n=[],c.forEach(o),v=n}var h=function(){var u=v;v=[],u.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(u){v.push(u),f()},filter:function(u){return v=v.filter(u),n}}}};return i}function ho(e){e===void 0&&(e={});var t=po(null);return t.options=Qe({async:!0,ssr:!1},e),t}var Or=function(e){var t=e.sideCar,n=Pr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return s.createElement(a,Qe({},n))};Or.isSideCarExport=!0;function vo(e,t){return e.useMedium(t),Or}var Br=ho(),bn=function(){},sn=s.forwardRef(function(e,t){var n=s.useRef(null),a=s.useState({onScrollCapture:bn,onWheelCapture:bn,onTouchMoveCapture:bn}),i=a[0],o=a[1],v=e.forwardProps,c=e.children,h=e.className,f=e.removeScrollBar,u=e.enabled,R=e.shards,x=e.sideCar,Q=e.noIsolation,$=e.inert,k=e.allowPinchZoom,q=e.as,L=q===void 0?"div":q,V=e.gapMode,H=Pr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=x,P=mo([n,t]),U=Qe(Qe({},H),i);return s.createElement(s.Fragment,null,u&&s.createElement(Y,{sideCar:Br,removeScrollBar:f,shards:R,noIsolation:Q,inert:$,setCallbacks:o,allowPinchZoom:!!k,lockRef:n,gapMode:V}),v?s.cloneElement(s.Children.only(c),Qe(Qe({},U),{ref:P})):s.createElement(L,Qe({},U,{className:h,ref:P}),c))});sn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sn.classNames={fullWidth:nn,zeroRight:tn};var yo=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bo(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yo();return t&&e.setAttribute("nonce",t),e}function wo(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Co(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xo=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bo())&&(wo(t,n),Co(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Eo=function(){var e=xo();return function(t,n){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},qr=function(){var e=Eo(),t=function(n){var a=n.styles,i=n.dynamic;return e(a,i),null};return t},So={left:0,top:0,right:0,gap:0},wn=function(e){return parseInt(e||"",10)||0},Lo=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[wn(n),wn(a),wn(i)]},Ro=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return So;var t=Lo(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},_o=qr(),Et="data-scroll-locked",Do=function(e,t,n,a){var i=e.left,o=e.top,v=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(so,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(Et,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(v,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tn,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(nn,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(tn," .").concat(tn,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(nn," .").concat(nn,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Et,`] {
    `).concat(co,": ").concat(c,`px;
  }
`)},dr=function(){var e=parseInt(document.body.getAttribute(Et)||"0",10);return isFinite(e)?e:0},ko=function(){s.useEffect(function(){return document.body.setAttribute(Et,(dr()+1).toString()),function(){var e=dr()-1;e<=0?document.body.removeAttribute(Et):document.body.setAttribute(Et,e.toString())}},[])},Io=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;ko();var o=s.useMemo(function(){return Ro(i)},[i]);return s.createElement(_o,{styles:Do(o,!t,i,n?"":"!important")})},In=!1;if(typeof window<"u")try{var Zt=Object.defineProperty({},"passive",{get:function(){return In=!0,!0}});window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{In=!1}var wt=In?{passive:!1}:!1,To=function(e){return e.tagName==="TEXTAREA"},Fr=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!To(e)&&n[t]==="visible")},Mo=function(e){return Fr(e,"overflowY")},Ao=function(e){return Fr(e,"overflowX")},fr=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Ur(e,a);if(i){var o=$r(e,a),v=o[1],c=o[2];if(v>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},No=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},Po=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Ur=function(e,t){return e==="v"?Mo(t):Ao(t)},$r=function(e,t){return e==="v"?No(t):Po(t)},Oo=function(e,t){return e==="h"&&t==="rtl"?-1:1},Bo=function(e,t,n,a,i){var o=Oo(e,window.getComputedStyle(t).direction),v=o*a,c=n.target,h=t.contains(c),f=!1,u=v>0,R=0,x=0;do{var Q=$r(e,c),$=Q[0],k=Q[1],q=Q[2],L=k-q-o*$;($||L)&&Ur(e,c)&&(R+=L,x+=$),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(t.contains(c)||t===c));return(u&&Math.abs(R)<1||!u&&Math.abs(x)<1)&&(f=!0),f},zt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mr=function(e){return[e.deltaX,e.deltaY]},gr=function(e){return e&&"current"in e?e.current:e},qo=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Uo=0,Ct=[];function $o(e){var t=s.useRef([]),n=s.useRef([0,0]),a=s.useRef(),i=s.useState(Uo++)[0],o=s.useState(qr)[0],v=s.useRef(e);s.useEffect(function(){v.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var k=lo([e.lockRef.current],(e.shards||[]).map(gr),!0).filter(Boolean);return k.forEach(function(q){return q.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(q){return q.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=s.useCallback(function(k,q){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!v.current.allowPinchZoom;var L=zt(k),V=n.current,H="deltaX"in k?k.deltaX:V[0]-L[0],Y="deltaY"in k?k.deltaY:V[1]-L[1],P,U=k.target,y=Math.abs(H)>Math.abs(Y)?"h":"v";if("touches"in k&&y==="h"&&U.type==="range")return!1;var T=fr(y,U);if(!T)return!0;if(T?P=y:(P=y==="v"?"h":"v",T=fr(y,U)),!T)return!1;if(!a.current&&"changedTouches"in k&&(H||Y)&&(a.current=P),!P)return!0;var S=a.current||P;return Bo(S,q,k,S==="h"?H:Y)},[]),h=s.useCallback(function(k){var q=k;if(!(!Ct.length||Ct[Ct.length-1]!==o)){var L="deltaY"in q?mr(q):zt(q),V=t.current.filter(function(P){return P.name===q.type&&(P.target===q.target||q.target===P.shadowParent)&&qo(P.delta,L)})[0];if(V&&V.should){q.cancelable&&q.preventDefault();return}if(!V){var H=(v.current.shards||[]).map(gr).filter(Boolean).filter(function(P){return P.contains(q.target)}),Y=H.length>0?c(q,H[0]):!v.current.noIsolation;Y&&q.cancelable&&q.preventDefault()}}},[]),f=s.useCallback(function(k,q,L,V){var H={name:k,delta:q,target:L,should:V,shadowParent:Vo(L)};t.current.push(H),setTimeout(function(){t.current=t.current.filter(function(Y){return Y!==H})},1)},[]),u=s.useCallback(function(k){n.current=zt(k),a.current=void 0},[]),R=s.useCallback(function(k){f(k.type,mr(k),k.target,c(k,e.lockRef.current))},[]),x=s.useCallback(function(k){f(k.type,zt(k),k.target,c(k,e.lockRef.current))},[]);s.useEffect(function(){return Ct.push(o),e.setCallbacks({onScrollCapture:R,onWheelCapture:R,onTouchMoveCapture:x}),document.addEventListener("wheel",h,wt),document.addEventListener("touchmove",h,wt),document.addEventListener("touchstart",u,wt),function(){Ct=Ct.filter(function(k){return k!==o}),document.removeEventListener("wheel",h,wt),document.removeEventListener("touchmove",h,wt),document.removeEventListener("touchstart",u,wt)}},[]);var Q=e.removeScrollBar,$=e.inert;return s.createElement(s.Fragment,null,$?s.createElement(o,{styles:Fo(i)}):null,Q?s.createElement(Io,{gapMode:e.gapMode}):null)}function Vo(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ho=vo(Br,$o);var Vr=s.forwardRef(function(e,t){return s.createElement(sn,Qe({},e,{ref:t,sideCar:Ho}))});Vr.classNames=sn.classNames;var Wo=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xt=new WeakMap,Gt=new WeakMap,Yt={},Cn=0,Hr=function(e){return e&&(e.host||Hr(e.parentNode))},jo=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=Hr(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Qo=function(e,t,n,a){var i=jo(t,Array.isArray(e)?e:[e]);Yt[n]||(Yt[n]=new WeakMap);var o=Yt[n],v=[],c=new Set,h=new Set(i),f=function(R){!R||c.has(R)||(c.add(R),f(R.parentNode))};i.forEach(f);var u=function(R){!R||h.has(R)||Array.prototype.forEach.call(R.children,function(x){if(c.has(x))u(x);else try{var Q=x.getAttribute(a),$=Q!==null&&Q!=="false",k=(xt.get(x)||0)+1,q=(o.get(x)||0)+1;xt.set(x,k),o.set(x,q),v.push(x),k===1&&$&&Gt.set(x,!0),q===1&&x.setAttribute(n,"true"),$||x.setAttribute(a,"true")}catch(L){console.error("aria-hidden: cannot operate on ",x,L)}})};return u(t),c.clear(),Cn++,function(){v.forEach(function(R){var x=xt.get(R)-1,Q=o.get(R)-1;xt.set(R,x),o.set(R,Q),x||(Gt.has(R)||R.removeAttribute(a),Gt.delete(R)),Q||R.removeAttribute(n)}),Cn--,Cn||(xt=new WeakMap,xt=new WeakMap,Gt=new WeakMap,Yt={})}},Zo=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=Wo(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),Qo(a,i,n,"aria-hidden")):function(){return null}},qn="Dialog",[Wr,ms]=ki(qn),[zo,He]=Wr(qn),jr=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:v=!0}=e,c=s.useRef(null),h=s.useRef(null),[f=!1,u]=Ai({prop:a,defaultProp:i,onChange:o});return r(zo,{scope:t,triggerRef:c,contentRef:h,contentId:gn(),titleId:gn(),descriptionId:gn(),open:f,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(R=>!R),[u]),modal:v,children:n})};jr.displayName=qn;var Qr="DialogTrigger",Zr=s.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=He(Qr,n),o=pt(t,i.triggerRef);return r(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$n(i.open),...a,ref:o,onClick:lt(e.onClick,i.onOpenToggle)})});Zr.displayName=Qr;var Fn="DialogPortal",[Go,zr]=Wr(Fn,{forceMount:void 0}),Gr=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:i}=e,o=He(Fn,t);return r(Go,{scope:t,forceMount:n,children:s.Children.map(a,v=>r(ln,{present:n||o.open,children:r(Nr,{asChild:!0,container:i,children:v})}))})};Gr.displayName=Fn;var on="DialogOverlay",Yr=s.forwardRef((e,t)=>{const n=zr(on,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,o=He(on,e.__scopeDialog);return o.modal?r(ln,{present:a||o.open,children:r(Yo,{...i,ref:t})}):null});Yr.displayName=on;var Yo=s.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=He(on,n);return r(Vr,{as:Bn,allowPinchZoom:!0,shards:[i.contentRef],children:r(Je.div,{"data-state":$n(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),gt="DialogContent",Kr=s.forwardRef((e,t)=>{const n=zr(gt,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,o=He(gt,e.__scopeDialog);return r(ln,{present:a||o.open,children:o.modal?r(Ko,{...i,ref:t}):r(Xo,{...i,ref:t})})});Kr.displayName=gt;var Ko=s.forwardRef((e,t)=>{const n=He(gt,e.__scopeDialog),a=s.useRef(null),i=pt(t,n.contentRef,a);return s.useEffect(()=>{const o=a.current;if(o)return Zo(o)},[]),r(Xr,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,o=>{var v;o.preventDefault(),(v=n.triggerRef.current)==null||v.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,o=>{const v=o.detail.originalEvent,c=v.button===0&&v.ctrlKey===!0;(v.button===2||c)&&o.preventDefault()}),onFocusOutside:lt(e.onFocusOutside,o=>o.preventDefault())})}),Xo=s.forwardRef((e,t)=>{const n=He(gt,e.__scopeDialog),a=s.useRef(!1),i=s.useRef(!1);return r(Xr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var v,c;(v=e.onCloseAutoFocus)==null||v.call(e,o),o.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const v=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(v))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Xr=s.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...v}=e,c=He(gt,n),h=s.useRef(null),f=pt(t,h);return oo(),w(Xe,{children:[r(Mr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r(Ir,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":$n(c.open),...v,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),w(Xe,{children:[r(tl,{titleId:c.titleId}),r(rl,{contentRef:h,descriptionId:c.descriptionId})]})]})}),Un="DialogTitle",Jr=s.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=He(Un,n);return r(Je.h2,{id:i.titleId,...a,ref:t})});Jr.displayName=Un;var ea="DialogDescription",Jo=s.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=He(ea,n);return r(Je.p,{id:i.descriptionId,...a,ref:t})});Jo.displayName=ea;var ta="DialogClose",el=s.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=He(ta,n);return r(Je.button,{type:"button",...a,ref:t,onClick:lt(e.onClick,()=>i.onOpenChange(!1))})});el.displayName=ta;function $n(e){return e?"open":"closed"}var na="DialogTitleWarning",[gs,ra]=Di(na,{contentName:gt,titleName:Un,docsSlug:"dialog"}),tl=({titleId:e})=>{const t=ra(na),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},nl="DialogDescriptionWarning",rl=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ra(nl).contentName}}.`;return s.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},al=jr,il=Zr,ol=Gr,ll=Yr,sl=Kr,cl=Jr;function ul(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const aa=ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Tt=()=>{const e=ee.useContext(aa);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};ul(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function dl(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function fl(){return Vn(/^Mac/)}function ml(){return Vn(/^iPhone/)}function pr(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function gl(){return Vn(/^iPad/)||fl()&&navigator.maxTouchPoints>1}function ia(){return ml()||gl()}function Vn(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const pl=24,hl=typeof window<"u"?s.useLayoutEffect:s.useEffect;function hr(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const xn=typeof document<"u"&&window.visualViewport;function vr(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function oa(e){for(vr(e)&&(e=e.parentElement);e&&!vr(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const vl=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Kt=0,En;function yl(e={}){let{isDisabled:t}=e;hl(()=>{if(!t)return Kt++,Kt===1&&ia()&&(En=bl()),()=>{Kt--,Kt===0&&(En==null||En())}},[t])}function bl(){let e,t=0,n=R=>{e=oa(R.target),!(e===document.documentElement&&e===document.body)&&(t=R.changedTouches[0].pageY)},a=R=>{if(!e||e===document.documentElement||e===document.body){R.preventDefault();return}let x=R.changedTouches[0].pageY,Q=e.scrollTop,$=e.scrollHeight-e.clientHeight;$!==0&&((Q<=0&&x>t||Q>=$&&x<t)&&R.preventDefault(),t=x)},i=R=>{let x=R.target;Tn(x)&&x!==document.activeElement&&(R.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},o=R=>{let x=R.target;Tn(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",xn&&(xn.height<window.innerHeight?requestAnimationFrame(()=>{yr(x)}):xn.addEventListener("resize",()=>yr(x),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},c=window.pageXOffset,h=window.pageYOffset,f=hr(wl(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=hr(Rt(document,"touchstart",n,{passive:!1,capture:!0}),Rt(document,"touchmove",a,{passive:!1,capture:!0}),Rt(document,"touchend",i,{passive:!1,capture:!0}),Rt(document,"focus",o,!0),Rt(window,"scroll",v));return()=>{f(),u(),window.scrollTo(c,h)}}function wl(e,t,n){let a=e.style[t];return e.style[t]=n,()=>{e.style[t]=a}}function Rt(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function yr(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=oa(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let a=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const v=n.getBoundingClientRect().bottom+pl;o>v&&(n.scrollTop+=i-a)}e=n.parentElement}}function Tn(e){return e instanceof HTMLInputElement&&!vl.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Cl(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xl(...e){return t=>e.forEach(n=>Cl(n,t))}function la(...e){return s.useCallback(xl(...e),e)}const sa=new WeakMap;function De(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(t).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}a[i]=e.style[i],e.style[i]=o}),!n&&sa.set(e,a)}function El(e,t){if(!e||!(e instanceof HTMLElement))return;let n=sa.get(e);n&&(e.style[t]=n[t])}const Re=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Xt(e,t){if(!e)return null;const n=window.getComputedStyle(e),a=n.transform||n.webkitTransform||n.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Re(t)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Re(t)?5:4]):null)}function Sl(e){return 8*(Math.log(e+1)-2)}function Sn(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Ll(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Ce={DURATION:.5,EASE:[.32,.72,0,1]},ca=.4,Rl=.25,_l=100,ua=8,Jt=16,Mn=26,Ln="vaul-dragging";function da(e){const t=ee.useRef(e);return ee.useEffect(()=>{t.current=e}),ee.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Dl({defaultProp:e,onChange:t}){const n=ee.useState(e),[a]=n,i=ee.useRef(a),o=da(t);return ee.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),n}function fa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,i]=Dl({defaultProp:t,onChange:n}),o=e!==void 0,v=o?e:a,c=da(n),h=ee.useCallback(f=>{if(o){const R=typeof f=="function"?f(e):f;R!==e&&c(R)}else i(f)},[o,e,i,c]);return[v,h]}function kl({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:v,direction:c="bottom",container:h,snapToSequentialPoint:f}){const[u,R]=fa({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[x,Q]=ee.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ee.useEffect(()=>{function y(){Q({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const $=ee.useMemo(()=>u===(n==null?void 0:n[n.length-1])||null,[n,u]),k=ee.useMemo(()=>{var y;return(y=n==null?void 0:n.findIndex(T=>T===u))!=null?y:null},[n,u]),q=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===u||!n,L=ee.useMemo(()=>{const y=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=n==null?void 0:n.map(S=>{const F=typeof S=="string";let m=0;if(F&&(m=parseInt(S,10)),Re(c)){const D=F?m:x?S*y.height:0;return x?c==="bottom"?y.height-D:-y.height+D:D}const d=F?m:x?S*y.width:0;return x?c==="right"?y.width-d:-y.width+d:d}))!=null?T:[]},[n,x,h]),V=ee.useMemo(()=>k!==null?L==null?void 0:L[k]:null,[L,k]),H=ee.useCallback(y=>{var T;const S=(T=L==null?void 0:L.findIndex(F=>F===y))!=null?T:null;v(S),De(a.current,{transition:`transform ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,transform:Re(c)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`}),L&&S!==L.length-1&&o!==void 0&&S!==o&&S<o?De(i.current,{transition:`opacity ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,opacity:"0"}):De(i.current,{transition:`opacity ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,opacity:"1"}),R(n==null?void 0:n[Math.max(S,0)])},[a.current,n,L,o,i,R]);ee.useEffect(()=>{if(u||e){var y;const T=(y=n==null?void 0:n.findIndex(S=>S===e||S===u))!=null?y:-1;L&&T!==-1&&typeof L[T]=="number"&&H(L[T])}},[u,e,n,L,H]);function Y({draggedDistance:y,closeDrawer:T,velocity:S,dismissible:F}){if(o===void 0)return;const m=c==="bottom"||c==="right"?(V??0)-y:(V??0)+y,d=k===o-1,D=k===0,O=y>0;if(d&&De(i.current,{transition:`opacity ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`}),!f&&S>2&&!O){F?T():H(L[0]);return}if(!f&&S>2&&O&&L&&n){H(L[n.length-1]);return}const C=L==null?void 0:L.reduce((Z,_)=>typeof Z!="number"||typeof _!="number"?Z:Math.abs(_-m)<Math.abs(Z-m)?_:Z),j=Re(c)?window.innerHeight:window.innerWidth;if(S>ca&&Math.abs(y)<j*.4){const Z=O?1:-1;if(Z>0&&$&&n){H(L[n.length-1]);return}if(D&&Z<0&&F&&T(),k===null)return;H(L[k+Z]);return}H(C)}function P({draggedDistance:y}){if(V===null)return;const T=c==="bottom"||c==="right"?V-y:V+y;(c==="bottom"||c==="right")&&T<L[L.length-1]||(c==="top"||c==="left")&&T>L[L.length-1]||De(a.current,{transform:Re(c)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function U(y,T){if(!n||typeof k!="number"||!L||o===void 0)return null;const S=k===o-1;if(k>=o&&T)return 0;if(S&&!T)return 1;if(!q&&!S)return null;const m=S?k+1:k-1,d=S?L[m]-L[m-1]:L[m+1]-L[m],D=y/Math.abs(d);return S?1-D:D}return{isLastSnapPoint:$,activeSnapPoint:u,shouldFade:q,getPercentageDragged:U,setActiveSnapPoint:R,activeSnapPointIndex:k,onRelease:Y,onDrag:P,snapPointsOffset:L}}const Il=()=>()=>{};function Tl(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:a,noBodyStyles:i}=Tt(),o=ee.useRef(null),v=s.useMemo(()=>document.body.style.backgroundColor,[]);function c(){return(window.innerWidth-Mn)/window.innerWidth}ee.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;Ll(a&&!i?Sn(document.body,{background:"black"}):Il,Sn(h,{transformOrigin:Re(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ce.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ce.EASE.join(",")})`}));const f=Sn(h,{borderRadius:`${ua}px`,overflow:"hidden",...Re(e)?{transform:`scale(${c()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${c()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),o.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},Ce.DURATION*1e3)}}},[t,n,v])}let _t=null;function Ml({isOpen:e,modal:t,nested:n,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[v,c]=ee.useState(()=>typeof window<"u"?window.location.href:""),h=ee.useRef(0),f=ee.useCallback(()=>{if(pr()&&_t===null&&e&&!o){_t={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:R,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-R}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const Q=x-window.innerHeight;Q&&h.current>=x&&(document.body.style.top=`${-(h.current+Q)}px`)}),300)}},[e]),u=ee.useCallback(()=>{if(pr()&&_t!==null&&!o){const R=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,_t),window.requestAnimationFrame(()=>{if(i&&v!==window.location.href){c(window.location.href);return}window.scrollTo(x,R)}),_t=null}},[v]);return ee.useEffect(()=>{function R(){h.current=window.scrollY}return R(),window.addEventListener("scroll",R),()=>{window.removeEventListener("scroll",R)}},[]),ee.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),ee.useEffect(()=>{n||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{u()},500)):u())},[e,a,v,t,n,f,u]),{restorePositionSetting:u}}function Al({open:e,onOpenChange:t,children:n,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:v=!1,setBackgroundColorOnScale:c=!0,closeThreshold:h=Rl,scrollLockTimeout:f=_l,dismissible:u=!0,handleOnly:R=!1,fadeFromIndex:x=o&&o.length-1,activeSnapPoint:Q,setActiveSnapPoint:$,fixed:k,modal:q=!0,onClose:L,nested:V,noBodyStyles:H=!1,direction:Y="bottom",defaultOpen:P=!1,disablePreventScroll:U=!0,snapToSequentialPoint:y=!1,preventScrollRestoration:T=!1,repositionInputs:S=!0,onAnimationEnd:F,container:m,autoFocus:d=!1}){var D,O;const[C=!1,j]=fa({defaultProp:P,prop:e,onChange:ie=>{t==null||t(ie),!ie&&!V&&ht(),setTimeout(()=>{F==null||F(ie)},Ce.DURATION*1e3),ie&&!q&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ie||(document.body.style.pointerEvents="auto")}}),[Z,_]=ee.useState(!1),[p,M]=ee.useState(!1),[te,ne]=ee.useState(!1),z=ee.useRef(null),G=ee.useRef(null),J=ee.useRef(null),ce=ee.useRef(null),de=ee.useRef(null),I=ee.useRef(!1),N=ee.useRef(null),g=ee.useRef(0),E=ee.useRef(!1),B=ee.useRef(!P),X=ee.useRef(0),A=ee.useRef(null),K=ee.useRef(((D=A.current)==null?void 0:D.getBoundingClientRect().height)||0),oe=ee.useRef(((O=A.current)==null?void 0:O.getBoundingClientRect().width)||0),ue=ee.useRef(0),re=ee.useCallback(ie=>{o&&ie===Be.length-1&&(G.current=new Date)},[]),{activeSnapPoint:he,activeSnapPointIndex:pe,setActiveSnapPoint:We,onRelease:et,snapPointsOffset:Be,onDrag:st,shouldFade:Ze,getPercentageDragged:un}=kl({snapPoints:o,activeSnapPointProp:Q,setActiveSnapPointProp:$,drawerRef:A,fadeFromIndex:x,overlayRef:z,onSnapPointChange:re,direction:Y,container:m,snapToSequentialPoint:y});yl({isDisabled:!C||p||!q||te||!Z||!S||!U});const{restorePositionSetting:ht}=Ml({isOpen:C,modal:q,nested:V??!1,hasBeenOpened:Z,preventScrollRestoration:T,noBodyStyles:H});function tt(){return(window.innerWidth-Mn)/window.innerWidth}function Mt(ie){var ge,ve;!u&&!o||A.current&&!A.current.contains(ie.target)||(K.current=((ge=A.current)==null?void 0:ge.getBoundingClientRect().height)||0,oe.current=((ve=A.current)==null?void 0:ve.getBoundingClientRect().width)||0,M(!0),J.current=new Date,ia()&&window.addEventListener("touchend",()=>I.current=!1,{once:!0}),ie.target.setPointerCapture(ie.pointerId),g.current=Re(Y)?ie.pageY:ie.pageX)}function Ne(ie,ge){var ve;let me=ie;const ye=(ve=window.getSelection())==null?void 0:ve.toString(),Le=A.current?Xt(A.current,Y):null,_e=new Date;if(me.tagName==="SELECT"||me.hasAttribute("data-vaul-no-drag")||me.closest("[data-vaul-no-drag]"))return!1;if(Y==="right"||Y==="left")return!0;if(G.current&&_e.getTime()-G.current.getTime()<500)return!1;if(Le!==null&&(Y==="bottom"?Le>0:Le<0))return!0;if(ye&&ye.length>0)return!1;if(de.current&&_e.getTime()-de.current.getTime()<f&&Le===0||ge)return de.current=_e,!1;for(;me;){if(me.scrollHeight>me.clientHeight){if(me.scrollTop!==0)return de.current=new Date,!1;if(me.getAttribute("role")==="dialog")return!0}me=me.parentNode}return!0}function At(ie){if(A.current&&p){const ge=Y==="bottom"||Y==="right"?1:-1,ve=(g.current-(Re(Y)?ie.pageY:ie.pageX))*ge,me=ve>0,ye=o&&!u&&!me;if(ye&&pe===0)return;const Le=Math.abs(ve),_e=document.querySelector("[data-vaul-drawer-wrapper]"),qe=Y==="bottom"||Y==="top"?K.current:oe.current;let Ae=Le/qe;const Pe=un(Le,me);if(Pe!==null&&(Ae=Pe),ye&&Ae>=1||!I.current&&!Ne(ie.target,me))return;if(A.current.classList.add(Ln),I.current=!0,De(A.current,{transition:"none"}),De(z.current,{transition:"none"}),o&&st({draggedDistance:ve}),me&&!o){const Fe=Sl(ve),yt=Math.min(Fe*-1,0)*ge;De(A.current,{transform:Re(Y)?`translate3d(0, ${yt}px, 0)`:`translate3d(${yt}px, 0, 0)`});return}const je=1-Ae;if((Ze||x&&pe===x-1)&&(a==null||a(ie,Ae),De(z.current,{opacity:`${je}`,transition:"none"},!0)),_e&&z.current&&v){const Fe=Math.min(tt()+Ae*(1-tt()),1),yt=8-Ae*8,qt=Math.max(0,14-Ae*14);De(_e,{borderRadius:`${yt}px`,transform:Re(Y)?`scale(${Fe}) translate3d(0, ${qt}px, 0)`:`scale(${Fe}) translate3d(${qt}px, 0, 0)`,transition:"none"},!0)}if(!o){const Fe=Le*ge;De(A.current,{transform:Re(Y)?`translate3d(0, ${Fe}px, 0)`:`translate3d(${Fe}px, 0, 0)`})}}}ee.useEffect(()=>{window.requestAnimationFrame(()=>{B.current=!0})},[]),ee.useEffect(()=>{var ie;function ge(){if(!A.current||!S)return;const ve=document.activeElement;if(Tn(ve)||E.current){var me;const ye=((me=window.visualViewport)==null?void 0:me.height)||0,Le=window.innerHeight;let _e=Le-ye;const qe=A.current.getBoundingClientRect().height||0,Ae=qe>Le*.8;ue.current||(ue.current=qe);const Pe=A.current.getBoundingClientRect().top;if(Math.abs(X.current-_e)>60&&(E.current=!E.current),o&&o.length>0&&Be&&pe){const je=Be[pe]||0;_e+=je}if(X.current=_e,qe>ye||E.current){const je=A.current.getBoundingClientRect().height;let Fe=je;je>ye&&(Fe=ye-(Ae?Pe:Mn)),k?A.current.style.height=`${je-Math.max(_e,0)}px`:A.current.style.height=`${Math.max(Fe,ye-Pe)}px`}else dl()||(A.current.style.height=`${ue.current}px`);o&&o.length>0&&!E.current?A.current.style.bottom="0px":A.current.style.bottom=`${Math.max(_e,0)}px`}}return(ie=window.visualViewport)==null||ie.addEventListener("resize",ge),()=>{var ve;return(ve=window.visualViewport)==null?void 0:ve.removeEventListener("resize",ge)}},[pe,o,Be]);function nt(ie){Pt(),L==null||L(),ie||j(!1),setTimeout(()=>{o&&We(o[0])},Ce.DURATION*1e3)}function Nt(){if(!A.current)return;const ie=document.querySelector("[data-vaul-drawer-wrapper]"),ge=Xt(A.current,Y);De(A.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`}),De(z.current,{transition:`opacity ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,opacity:"1"}),v&&ge&&ge>0&&C&&De(ie,{borderRadius:`${ua}px`,overflow:"hidden",...Re(Y)?{transform:`scale(${tt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${tt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ce.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ce.EASE.join(",")})`},!0)}function Pt(){!p||!A.current||(A.current.classList.remove(Ln),I.current=!1,M(!1),ce.current=new Date)}function vt(ie){if(!p||!A.current)return;A.current.classList.remove(Ln),I.current=!1,M(!1),ce.current=new Date;const ge=Xt(A.current,Y);if(!ie||!Ne(ie.target,!1)||!ge||Number.isNaN(ge)||J.current===null)return;const ve=ce.current.getTime()-J.current.getTime(),me=g.current-(Re(Y)?ie.pageY:ie.pageX),ye=Math.abs(me)/ve;if(ye>.05&&(ne(!0),setTimeout(()=>{ne(!1)},200)),o){et({draggedDistance:me*(Y==="bottom"||Y==="right"?1:-1),closeDrawer:nt,velocity:ye,dismissible:u}),i==null||i(ie,!0);return}if(Y==="bottom"||Y==="right"?me>0:me<0){Nt(),i==null||i(ie,!0);return}if(ye>ca){nt(),i==null||i(ie,!1);return}var Le;const _e=Math.min((Le=A.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var qe;const Ae=Math.min((qe=A.current.getBoundingClientRect().width)!=null?qe:0,window.innerWidth),Pe=Y==="left"||Y==="right";if(Math.abs(ge)>=(Pe?Ae:_e)*h){nt(),i==null||i(ie,!1);return}i==null||i(ie,!0),Nt()}ee.useEffect(()=>(C&&(De(document.documentElement,{scrollBehavior:"auto"}),G.current=new Date),()=>{El(document.documentElement,"scrollBehavior")}),[C]);function Ot(ie){const ge=ie?(window.innerWidth-Jt)/window.innerWidth:1,ve=ie?-16:0;N.current&&window.clearTimeout(N.current),De(A.current,{transition:`transform ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,transform:Re(Y)?`scale(${ge}) translate3d(0, ${ve}px, 0)`:`scale(${ge}) translate3d(${ve}px, 0, 0)`}),!ie&&A.current&&(N.current=setTimeout(()=>{const me=Xt(A.current,Y);De(A.current,{transition:"none",transform:Re(Y)?`translate3d(0, ${me}px, 0)`:`translate3d(${me}px, 0, 0)`})},500))}function Bt(ie,ge){if(ge<0)return;const ve=(window.innerWidth-Jt)/window.innerWidth,me=ve+ge*(1-ve),ye=-16+ge*Jt;De(A.current,{transform:Re(Y)?`scale(${me}) translate3d(0, ${ye}px, 0)`:`scale(${me}) translate3d(${ye}px, 0, 0)`,transition:"none"})}function dn(ie,ge){const ve=Re(Y)?window.innerHeight:window.innerWidth,me=ge?(ve-Jt)/ve:1,ye=ge?-16:0;ge&&De(A.current,{transition:`transform ${Ce.DURATION}s cubic-bezier(${Ce.EASE.join(",")})`,transform:Re(Y)?`scale(${me}) translate3d(0, ${ye}px, 0)`:`scale(${me}) translate3d(${ye}px, 0, 0)`})}return ee.useEffect(()=>{q||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[q]),r(al,{defaultOpen:P,onOpenChange:ie=>{!u&&!ie||(ie?_(!0):nt(!0),j(ie))},open:C,children:r(aa.Provider,{value:{activeSnapPoint:he,snapPoints:o,setActiveSnapPoint:We,drawerRef:A,overlayRef:z,onOpenChange:t,onPress:Mt,onRelease:vt,onDrag:At,dismissible:u,shouldAnimate:B,handleOnly:R,isOpen:C,isDragging:p,shouldFade:Ze,closeDrawer:nt,onNestedDrag:Bt,onNestedOpenChange:Ot,onNestedRelease:dn,keyboardIsOpen:E,modal:q,snapPointsOffset:Be,activeSnapPointIndex:pe,direction:Y,shouldScaleBackground:v,setBackgroundColorOnScale:c,noBodyStyles:H,container:m,autoFocus:d},children:n})})}const ma=ee.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:a,onRelease:i,shouldFade:o,isOpen:v,modal:c,shouldAnimate:h}=Tt(),f=la(t,n),u=a&&a.length>0;if(!c)return null;const R=ee.useCallback(x=>i(x),[i]);return r(ll,{onMouseUp:R,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":v&&u?"true":"false","data-vaul-snap-points-overlay":v&&o?"true":"false","data-vaul-animate":h!=null&&h.current?"true":"false",...e})});ma.displayName="Drawer.Overlay";const ga=ee.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...a},i){const{drawerRef:o,onPress:v,onRelease:c,onDrag:h,keyboardIsOpen:f,snapPointsOffset:u,activeSnapPointIndex:R,modal:x,isOpen:Q,direction:$,snapPoints:k,container:q,handleOnly:L,shouldAnimate:V,autoFocus:H}=Tt(),[Y,P]=ee.useState(!1),U=la(i,o),y=ee.useRef(null),T=ee.useRef(null),S=ee.useRef(!1),F=k&&k.length>0;Tl();const m=(D,O,C=0)=>{if(S.current)return!0;const j=Math.abs(D.y),Z=Math.abs(D.x),_=Z>j,p=["bottom","right"].includes(O)?1:-1;if(O==="left"||O==="right"){if(!(D.x*p<0)&&Z>=0&&Z<=C)return _}else if(!(D.y*p<0)&&j>=0&&j<=C)return!_;return S.current=!0,!0};ee.useEffect(()=>{F&&window.requestAnimationFrame(()=>{P(!0)})},[]);function d(D){y.current=null,S.current=!1,c(D)}return r(sl,{"data-vaul-drawer-direction":$,"data-vaul-drawer":"","data-vaul-delayed-snap-points":Y?"true":"false","data-vaul-snap-points":Q&&F?"true":"false","data-vaul-custom-container":q?"true":"false","data-vaul-animate":V!=null&&V.current?"true":"false",...a,ref:U,style:u&&u.length>0?{"--snap-point-height":`${u[R??0]}px`,...t}:t,onPointerDown:D=>{L||(a.onPointerDown==null||a.onPointerDown.call(a,D),y.current={x:D.pageX,y:D.pageY},v(D))},onOpenAutoFocus:D=>{n==null||n(D),H||D.preventDefault()},onPointerDownOutside:D=>{if(e==null||e(D),!x||D.defaultPrevented){D.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:D=>{if(!x){D.preventDefault();return}},onPointerMove:D=>{if(T.current=D,L||(a.onPointerMove==null||a.onPointerMove.call(a,D),!y.current))return;const O=D.pageY-y.current.y,C=D.pageX-y.current.x,j=D.pointerType==="touch"?10:2;m({x:C,y:O},$,j)?h(D):(Math.abs(C)>j||Math.abs(O)>j)&&(y.current=null)},onPointerUp:D=>{a.onPointerUp==null||a.onPointerUp.call(a,D),y.current=null,S.current=!1,c(D)},onPointerOut:D=>{a.onPointerOut==null||a.onPointerOut.call(a,D),d(T.current)},onContextMenu:D=>{a.onContextMenu==null||a.onContextMenu.call(a,D),T.current&&d(T.current)}})});ga.displayName="Drawer.Content";const Nl=250,Pl=120,Ol=ee.forwardRef(function({preventCycle:e=!1,children:t,...n},a){const{closeDrawer:i,isDragging:o,snapPoints:v,activeSnapPoint:c,setActiveSnapPoint:h,dismissible:f,handleOnly:u,isOpen:R,onPress:x,onDrag:Q}=Tt(),$=ee.useRef(null),k=ee.useRef(!1);function q(){if(k.current){H();return}window.setTimeout(()=>{L()},Pl)}function L(){if(o||e||k.current){H();return}if(H(),!v||v.length===0){f||i();return}if(c===v[v.length-1]&&f){i();return}const P=v.findIndex(y=>y===c);if(P===-1)return;const U=v[P+1];h(U)}function V(){$.current=window.setTimeout(()=>{k.current=!0},Nl)}function H(){$.current&&window.clearTimeout($.current),k.current=!1}return r("div",{onClick:q,onPointerCancel:H,onPointerDown:Y=>{u&&x(Y),V()},onPointerMove:Y=>{u&&Q(Y)},ref:a,"data-vaul-drawer-visible":R?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n,children:r("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true",children:t})})});Ol.displayName="Drawer.Handle";function Bl(e){const t=Tt(),{container:n=t.container,...a}=e;return r(ol,{container:n,...a})}const Ee={Root:Al,Content:ga,Overlay:ma,Trigger:il,Portal:Bl,Title:cl};function pa({onDoneLoading:e}){pa.propTypes={onDoneLoading:Function};const t={register:"login-drawer-register-page",user:"login-drawer-user-page",login:"login-drawer-login-page",forgot:"login-drawer-forgot-password-page",changeHandle:"login-drawer-change-display-name-page",changeEmail:"login-drawer-change-email-page",changePassword:"login-drawer-change-password-page",deleteData:"login-drawer-delete-data-page",deleteAccount:"login-drawer-delete-account-page",admin:"login-drawer-admin-page"},[n,a]=s.useState(t.login),[i,o]=s.useState("Login"),[v,c]=s.useState("🗝️"),[h,f]=s.useState(null),[u,R]=s.useState(null),[x,Q]=s.useState(null),[$,k]=s.useState(null),[q,L]=s.useState(!0),V=s.useRef(null);s.useEffect(()=>{const{data:{subscription:C}}=fe.auth.onAuthStateChange((_,p)=>{(async()=>{var M,te;if(o(p!=null&&p.user?"Hey!":"Login"),c(p!=null&&p.user?"✅":"🗝️"),k(p==null?void 0:p.user),p!=null&&p.user){const{data:ne,error:z}=await fe.from("profiles").select("handle, public").eq("id",(M=p==null?void 0:p.user)==null?void 0:M.id).limit(1).single();!z&&ne&&(f(ne.handle),R(ne.public));const{data:G,error:J}=await fe.from("user_roles").select("role").eq("id",(te=p==null?void 0:p.user)==null?void 0:te.id).limit(1).single();!J&&G&&Q(G.role)}q&&(L(!1),e())})()});if(!$){V.current&&V.current.unsubscribe(),V.current=null;return}const Z=fe.channel("realtime:public:profiles").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${$.id}`},_=>{_.new.public!==_.old.public&&R(_.new.public)}).subscribe();return V.current=Z,()=>{C.unsubscribe(),V.current&&V.current.unsubscribe(),V.current=null}},[]);function H(C){const j=document.getElementById(n);j&&(j.classList.remove("slide-away-active"),setTimeout(()=>{a(C)},100))}return s.useEffect(()=>{const C=document.getElementById(n);C&&(C.classList.remove("slide-away-active"),setTimeout(()=>{C.classList.add("slide-away-active")},50))},[n]),w(Ee.Root,{activeSnapPoint:1,direction:"right",children:[w(Ee.Trigger,{type:"button",id:"open-login-drawer-button",className:"default-button",title:"Open login dialog",onClick:()=>{a($?t.user:t.login)},children:[r("span",{id:"open-login-drawer-button-icon",children:v}),r("span",{id:"open-login-drawer-button-text",children:i})]}),w(Ee.Portal,{children:[r(Ee.Overlay,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)"}}),r(Ee.Content,{id:"login-drawer",style:{position:"fixed",display:"flex",outline:"none",flexDirection:"column",top:0,right:0},children:r("div",{id:"login-drawer-content",className:"primary-card-solid",style:{margin:"1rem 1rem 0rem 0rem",display:"flex",flexDirection:"column",overflow:"hidden"},children:(()=>{switch(n){case t.register:return r(P,{});case t.user:return r(y,{});case t.forgot:return r(U,{});case t.changeHandle:return r(T,{});case t.changeEmail:return r(S,{});case t.changePassword:return r(F,{});case t.deleteData:return r(m,{});case t.deleteAccount:return r(d,{});case t.admin:return r(D,{});case t.login:default:return r(Y,{})}})()})})]})]});function Y(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();const p=document.getElementById("login-button");p.classList.toggle("button--loading"),p.disabled=!0;const M=_.target.elements["login-email-input"].value,te=_.target.elements["login-password-input"].value,{data:ne,error:z}=await fe.auth.signInWithPassword({email:M,password:te});if(z){switch(z.code){case"invalid_credentials":console.error("Invalid credentials"),j(r("p",{id:"login-error-text",children:"Invalid credentials"}));break;case"email_not_confirmed":console.error("Account not verified"),j(r("p",{id:"login-error-text",children:"Account not verified"}));break;default:console.error("Error signing in:",z),j(r("p",{id:"login-error-text",children:"Error signing in"}))}p.classList.toggle("button--loading"),p.removeAttribute("disabled"),_.target.elements["login-email-input"].classList.add("invalid"),_.target.elements["login-password-input"].classList.add("invalid"),_.target.elements["login-email-input"].focus()}ne.user&&H(t.user)}return w("div",{id:t.login,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0 0.25em 0"},children:"Who are you? 🤨"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-form",onSubmit:_=>{Z(_)},className:"login-form",children:[r("p",{style:{textAlign:"center",margin:"0"},children:"Login to experience the magic!"}),r("input",{type:"email",name:"login-email-input",id:"login-email-input",style:{borderRadius:"1em"},placeholder:"email",form:"login-form",title:"Enter your email address",required:!0}),r("input",{type:"password",name:"login-password-input",id:"login-password-input",style:{borderRadius:"1em"},placeholder:"password",form:"login-form",title:"Enter your password",required:!0}),w("div",{style:{display:"flex",justifyContent:"space-between"},children:[r("button",{type:"button",className:"link",title:"Create a new account",onClick:()=>{H(t.register)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"New? Register now!"}),r("button",{type:"button",className:"link",title:"Forgot password?",onClick:()=>{H(t.forgot)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Forgot Password?"})]}),C,r("div",{style:{display:"flex",justifyContent:"right",marginTop:"0.25em"},children:r("button",{type:"submit",id:"login-button",form:"login-form",className:"default-button primary-button",value:"login",title:"Login",style:{position:"relative"},children:r("span",{className:"button__text",children:"Login"})})})]})})]})}function P(){return w("div",{id:t.register,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0 0.25em 0"},children:"First Timer? Join in! 🎉"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-form",className:"login-form",children:[r("p",{style:{textAlign:"center",margin:"0"},children:"Registering is currently invite only. Get an invite to save your links and QR codes, share with friends, use custom domains, set custom expiration dates and more!"}),r("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.25em"},children:r("button",{type:"button",form:"login-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.login)},children:"Back"})})]})})]})}function U(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();function p(G){const J=document.getElementById("forgot-password-submit-button"),ce=document.getElementById("forgot-password-cancel-button");J.classList.toggle("button--loading"),J.disabled=G,ce.disabled=G,_.target.elements["login-forgot-password-email-input"].disabled=G}p(!0);const M=_.target.elements["login-forgot-password-email-input"].value,{error:te}=await fe.auth.resetPasswordForEmail(M,{redirectTo:"http://localhost:5173/#reset-password",type:"link",autoLogin:!0});if(te){_.target.elements["login-forgot-password-email-input"].classList.add("invalid"),_.target.elements["login-forgot-password-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Something went wrong while sending the email"})),p(!1);return}const ne=document.getElementById("email-not-sent"),z=document.getElementById("email-sent");ne.classList.toggle("slide-away-active"),setTimeout(()=>{z.classList.toggle("slide-away-active");const G=document.getElementById("forgot-password-submit-button"),J=document.getElementById("forgot-password-cancel-button");G.classList.toggle("button--loading"),J.disabled=!1},150)}return w("div",{id:t.forgot,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0 0.5em 0"},children:"Oops, Memory Lapse? 😅"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-forgot-password-form",className:"login-forgot-password-form",onSubmit:Z,style:{position:"relative"},children:[w("div",{id:"email-sent",className:"slide-away",style:{position:"absolute",width:"calc(100% - 4em)",top:"20%",gap:"1em",alignItems:"center",display:"flex",flexDirection:"column"},children:[r("p",{children:"Done ✅"}),r("p",{children:"We've sent a password reset link to the provided email, if there's an account linked to it. Check your inbox and follow the link in the email to reset your password."})]}),w("div",{id:"email-not-sent",className:"slide-away slide-away-active",children:[r("p",{children:"Enter your email address."}),r("input",{type:"email",name:"login-forgot-password-email-input",id:"login-forgot-password-email-input",onInput:_=>{if(typeof _.target.reportValidity=="function"){_.preventDefault();const p=_.target,M=p.validity;M.customError&&(p.setCustomValidity(""),p.checkValidity()),M.valueMissing?(p.classList.remove("invalid"),p.setCustomValidity("Please enter your email.")):M.tooShort||M.tooLong?(p.classList.add("invalid"),p.setCustomValidity("Email must be at least 4 characters long.")):p.checkValidity()?p.classList.remove("invalid"):p.classList.add("invalid"),p.reportValidity()}},style:{borderRadius:"1em"},placeholder:"email",form:"login-forgot-password-form",title:"Enter your email address",maxLength:254,minLength:4,required:!0}),C,r("p",{children:"A password reset link will be sent to you if your email is registered."})]}),w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{type:"button",form:"login-forgot-password-form",id:"forgot-password-cancel-button",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.login)},children:"Back"}),r("button",{type:"submit",form:"login-forgot-password-form",id:"forgot-password-submit-button",className:"default-button primary-button",value:"email",title:"Send email",style:{position:"relative"},children:r("span",{className:"button__text",children:"Send email"})})]})]})})]})}function y(){const[C,j]=s.useState(!1),Z=h?`@${h}`:`@${$.id.split("-")[0]}`;s.useEffect(()=>{var ne,z;var M=!1;function te(G){var J=document.createElement("div");J.classList.add("tag-click-explode-div"),document.querySelector("body").appendChild(J),J.style.left=G.pageX+"px",J.style.top=G.pageY+"px";for(var ce=10,de=0;de<ce;de++){var I=document.createElement("span"),N=J.appendChild(I),g=de*(360/ce)+Math.floor(Math.random()*15),E=10+Math.floor(Math.random()*28),B=4+Math.floor(Math.random()*8);N.style.height=E+"px",N.style.width=B+"px",N.style.transform="rotate("+g+"deg)",N.classList.add("tag-click-explode-span"),N.style.setProperty("--tag-color",window.getComputedStyle(G.target).getPropertyValue("--tag-color"))}if(window.requestAnimationFrame(function(){Array.from(J.querySelectorAll(".tag-click-explode-span")).forEach(K=>{var oe=-50-Math.floor(Math.random()*100);K.style.transform+="scaleY(0.5) translateY("+oe+"px)",K.style.opacity="0"}),window.setTimeout(function(){document.body.removeChild(J)},400)}),!M&&G.target.classList.contains("explode-tag")){M=!0;var X=2,A=window.setInterval(()=>{var K=Math.floor(Math.random()*2*X)-X,oe=Math.floor(Math.random()*2*X)-X;document.body.style.transform=`translate(${K}px, ${oe}px) rotate(${Math.random()*.2-.2}deg)`},10);window.setTimeout(()=>{window.clearInterval(A),document.body.style.transform="",M=!1},150)}}document.querySelectorAll(".base-tag").forEach(G=>{G.addEventListener("click",J=>te(J))}),(ne=document.getElementById("public-profile-toggle-slider"))==null||ne.addEventListener("mouseover",()=>{document.getElementById("public-profile-toggle-label").classList.add("public-profile-toggle-label-hover")}),(z=document.getElementById("public-profile-toggle-slider"))==null||z.addEventListener("mouseout",()=>{document.getElementById("public-profile-toggle-label").classList.remove("public-profile-toggle-label-hover")})},[]);async function _(M){M.preventDefault();const te=document.getElementById("logout-button");te.classList.toggle("button--loading"),te.disabled=!0;const{error:ne}=await fe.auth.signOut();ne?(te.classList.toggle("button--loading"),te.disabled=!1):H(t.login)}function p(M){M.preventDefault(),navigator.clipboard.writeText(document.getElementById("public-profile-link-text").innerText);const te=document.getElementById("public-profile-link-copy-button");if(te){te.classList.add("button--done");var ne=10;confetti({particleCount:ne,drift:0,startVelocity:7,decay:.95,spread:360,ticks:60,zIndex:0,gravity:0,colors:["#80C2D9"],origin:{x:M.clientX/window.innerWidth,y:M.clientY/window.innerHeight}}),setTimeout(()=>{te.classList.remove("button--done")},1e3)}}return w("div",{id:t.user,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0 0.5em 0"},children:"Hey, You Made It! 👋"}),r("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 2rem 1em 2rem",gap:"0.5em"},children:r(_n,{text:Z,message:C?"Copied!":Z,onClick:()=>{navigator.clipboard.writeText(h?`@${h}`:`@${$.id.split("-")[0]}`),j(!0),setTimeout(()=>{j(!1)},1e3)}})}),w("div",{style:{maxWidth:"100%",margin:"0em 2em",height:"fit-content",gap:"0.5em",display:"flex",flexWrap:"wrap"},children:[r("span",{className:"base-tag",children:"🛡️ member"}),u&&r("span",{className:"base-tag blue-tag explode-tag",children:"🌎 public"}),(x==="vip"||x==="admin")&&r("span",{className:"base-tag yellow-tag explode-tag",children:"❤️‍🔥 vip"}),x==="admin"&&r("span",{className:"base-tag purple-tag explode-tag",children:"⚜️ admin"}),r(_n,{width:"200px",message:w("div",{style:{padding:"0.25em"},children:[r("p",{children:"Badges reflect your role in the community"}),w("ul",{style:{margin:"0",padding:"0.5em 0 0 0",listStyle:"none",color:"var(--text-color)",display:"flex",flexDirection:"column",gap:"0.5em"},children:[r("li",{children:r("span",{className:"base-tag",children:"🛡️ member"})}),r("li",{children:r("span",{className:"base-tag blue-tag explode-tag",children:"🌎 public"})}),r("li",{children:r("span",{className:"base-tag yellow-tag explode-tag",children:"❤️‍🔥 vip"})}),r("li",{children:r("span",{className:"base-tag purple-tag explode-tag",children:"⚜️ admin"})})]})]})})]}),r("div",{style:{margin:"1em 2rem 2rem 2rem"},children:w("form",{id:"logout-form",onSubmit:M=>{_(M)},className:"login-form",children:[w("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r("label",{id:"public-profile-toggle-label",htmlFor:"public-profile-toggle",className:x!=="vip"&&x!=="admin"&&"toggle-switch-disabled"||null,style:{flexGrow:1},title:"A VIP feature to create a public profile",children:"Make my profile public"}),w("label",{className:"toggle-switch",style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[r("span",{style:{fontSize:"small",opacity:x==="vip"||x==="admin"?"1":"0.5"},children:"❤️‍🔥"}),r("input",{id:"public-profile-toggle",defaultChecked:u,type:"checkbox",disabled:x!=="vip"&&x!=="admin",onChange:async M=>{const{error:te}=await fe.from("profiles").update({public:M.target.checked??!1}).eq("id",$.id);te||R(M.target.checked??!1)}}),r("div",{id:"public-profile-toggle-slider",className:"toggle-switch-slider",title:"A VIP feature to create a public profile",children:w("div",{className:"toggle-switch-circle",children:[r("svg",{className:"toggle-switch-cross",xmlSpace:"preserve",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 365.696 365.696",y:"0",x:"0",height:"6",width:"6",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:r("g",{children:r("path",{"data-original":"#000000",fill:"var(--primary-color)",d:"M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"})})}),r("svg",{className:"toggle-switch-checkmark",xmlSpace:"preserve",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 24 24",y:"0",x:"0",height:"10",width:"10",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:r("g",{children:r("path",{className:"","data-original":"#000000",fill:"var(--primary-color)",d:"M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"})})})]})})]})]}),u&&w("div",{className:"primary-card-solid",style:{display:"flex",padding:"0.5em 1em",alignItems:"center",backgroundColor:"var(--primary-color)",borderRadius:"1em",color:"var(--text-color)"},children:[w("div",{id:"public-profile-link-text",style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:"1",fontSize:"small"},title:"https://shorturl.setulp.com/#user/"+h,children:["https://shorturl.setulp.com/#user/",h]}),r("button",{type:"button",id:"public-profile-link-copy-button",className:"default-button",title:"Copy link to my public profile",onClick:M=>{p(M)},style:{padding:"0.25em 0.75em 0.375em 0.75em",marginLeft:"0.5em",fontSize:"small",position:"relative"},children:r("span",{className:"button__text",children:"Copy"})})]}),x==="admin"&&r("button",{type:"button",className:"link",title:"See admin options",onClick:()=>{H(t.admin)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Admin options"}),r("button",{type:"button",className:"link",title:"Change handle",onClick:()=>{H(t.changeHandle)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Change handle"}),r("button",{type:"button",className:"link",title:"Change email",onClick:()=>{H(t.changeEmail)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Change email"}),r("button",{type:"button",className:"link",title:"Change password",onClick:()=>{H(t.changePassword)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Change password"}),r("button",{type:"button",className:"link red-button",title:"Delete my data",onClick:()=>{H(t.deleteData)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Delete my data"}),r("button",{type:"button",className:"link red-button",title:"Delete my account",onClick:()=>{H(t.deleteAccount)},style:{textAlign:"left",backgroundColor:"transparent",border:"none",padding:"0 !important",textDecoration:"underline",cursor:"pointer"},children:"Delete my account"}),r("div",{style:{display:"flex",justifyContent:"right"},children:r("button",{type:"submit",id:"logout-button",className:"default-button primary-button",value:"Logout",title:"Logout",style:{position:"relative"},children:r("span",{className:"button__text",children:"Logout"})})})]})})]})}function T(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();const p=_.target.elements["login-change-handle-input"];function M(ne){const z=document.getElementById("login-change-handle-submit-button"),G=document.getElementById("login-change-handle-cancel-button");z.classList.toggle("button--loading"),z.disabled=ne,G.disabled=ne,p.disabled=ne}if(M(!0),!$){M(!1),p.classList.add("invalid"),p.focus(),j(r("p",{id:"login-error-text",children:"You're not authenticated"})),M(!1);return}const{error:te}=await fe.from("profiles").update({handle:p.value}).eq("id",$.id);if(te){p.classList.add("invalid"),p.focus(),j(r("p",{id:"login-error-text",children:"Hmm, looks like this handle's taken"})),M(!1);return}else f(p.value),H(t.user)}return w("div",{id:t.changeHandle,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"Need a new handle?"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-change-handle-form",className:"login-form",onSubmit:_=>{Z(_)},children:[r("p",{children:"Think of a good one and hope it's not taken!"}),w("div",{id:"login-handle-input-container",style:{width:"100%",display:"flex",alignItems:"center"},children:[r("label",{htmlFor:"login-handle-input",children:"@"}),r("input",{type:"text",name:"login-change-handle-input",id:"login-change-handle-input",placeholder:"handle",onInput:_=>{if(typeof _.target.reportValidity=="function"){_.preventDefault();const p=_.target,M=p.validity;M.customError&&(p.setCustomValidity(""),p.checkValidity()),M.valueMissing?(p.classList.remove("invalid"),p.setCustomValidity("Please enter your new handle.")):M.tooShort||M.tooLong?(p.classList.add("invalid"),p.setCustomValidity("Handle must be 4 to 30 characters long.")):p.checkValidity()?p.classList.remove("invalid"):(p.classList.add("invalid"),p.setCustomValidity("Handle can only contain letters and numbers.")),p.reportValidity()}},form:"login-change-handle-form",pattern:"^[a-zA-Z0-9]*$",maxLength:30,minLength:4,required:!0})]}),C,w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{id:"login-change-handle-cancel-button",type:"button",form:"login-change-handle-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"}),r("button",{id:"login-change-handle-submit-button",type:"submit",form:"login-change-handle-form",className:"default-button primary-button",value:"change-handle",title:"Submit handle change",style:{position:"relative"},children:r("span",{className:"button__text",children:"Change handle"})})]})]})})]})}function S(){const[C,j]=s.useState(null);async function Z(p){p.preventDefault();function M(de){const I=document.getElementById("login-change-email-submit-button"),N=document.getElementById("login-change-email-cancel-button");I.classList.toggle("button--loading"),I.disabled=de,N.disabled=de,p.target.elements["login-change-email-cur-email-input"].disabled=de,p.target.elements["login-change-email-email-input"].disabled=de,p.target.elements["login-change-email-re-email-input"].disabled=de}M(!0);const te=p.target.elements["login-change-email-cur-email-input"].value,ne=p.target.elements["login-change-email-email-input"].value,z=p.target.elements["login-change-email-re-email-input"].value;if(ne!==z){M(!1),p.target.elements["login-change-email-re-email-input"].classList.add("invalid"),p.target.elements["login-change-email-re-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Emails do not match"}));return}if(te!==$.email){M(!1),p.target.elements["login-change-email-cur-email-input"].classList.add("invalid"),p.target.elements["login-change-email-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Failed to confirm current email"}));return}if(ne===$.email){M(!1),p.target.elements["login-change-email-email-input"].classList.add("invalid"),p.target.elements["login-change-email-email-input"].focus(),j(r("p",{id:"login-error-text",children:"New email cannot be the same as current email"}));return}const{error:G}=await fe.auth.update({email:ne});if(G){p.target.elements["login-change-email-cur-email-input"].classList.add("invalid"),p.target.elements["login-change-email-email-input"].classList.add("invalid"),p.target.elements["login-change-email-re-email-input"].classList.add("invalid"),p.target.elements["login-forgot-email-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Something went wrong while sending the email"})),M(!1);return}const J=document.getElementById("email-not-sent"),ce=document.getElementById("email-sent");J.classList.toggle("slide-away-active"),setTimeout(()=>{ce.classList.toggle("slide-away-active");const de=document.getElementById("login-change-email-submit-button"),I=document.getElementById("login-change-email-cancel-button");de.classList.toggle("button--loading"),I.disabled=!1},150)}function _(p){const M=p.id,te=p.validity;if(te.customError&&(p.setCustomValidity(""),p.checkValidity()),te.valueMissing)switch(p.classList.remove("invalid"),M){case"login-change-email-cur-email-input":p.setCustomValidity("Please confirm your current email address.");break;case"login-change-email-email-input":p.setCustomValidity("Please enter your new email address.");break;case"login-change-email-re-email-input":p.setCustomValidity("Please confirm your new email address.");break}else if(te.tooShort||te.tooLong)switch(p.classList.add("invalid"),M){case"login-change-email-cur-email-input":case"login-change-email-email-input":case"login-change-email-re-email-input":p.setCustomValidity("Email must be at least 4 characters long.");break}else if(p.checkValidity())switch(p.classList.remove("invalid"),M){case"login-change-email-email-input":p.value===document.getElementById("login-change-email-re-email-input").value&&document.getElementById("login-change-email-re-email-input").classList.remove("invalid");break;case"login-change-email-re-email-input":p.value!==document.getElementById("login-change-email-email-input").value&&(p.setCustomValidity("Emails must match."),p.classList.add("invalid"),p.checkValidity());break}else p.classList.add("invalid");p.reportValidity()}return w("div",{id:t.changeEmail,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"Need a new email?"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-change-email-form",className:"login-form",onSubmit:Z,children:[w("div",{id:"email-sent",className:"slide-away",style:{position:"absolute",width:"calc(100% - 4em)",top:"31%",gap:"1em",alignItems:"center",display:"flex",flexDirection:"column"},children:[r("p",{children:"Done ✅"}),r("p",{children:"A link to confirm your email change was sent to the email address currently registered to this account as well as the new email address (it may be in your spam folder). You must click the confirmation link on both emails to complete the process."})]}),w("div",{id:"email-not-sent",className:"slide-away slide-away-active",children:[r("label",{htmlFor:"login-change-email-cur-email-input",children:"For security purposes, please confirm your current email."}),r("input",{type:"email",name:"login-change-email-cur-email-input",id:"login-change-email-cur-email-input",form:"login-change-email-form",placeholder:O($.email),onInput:p=>{typeof p.target.reportValidity=="function"&&_(p.target)},style:{borderRadius:"1em"},maxLength:254,minLength:4,required:!0}),r("p",{children:"Then, enter the desired new email and re-enter it."}),r("input",{type:"email",name:"login-change-email-email-input",id:"login-change-email-email-input",form:"login-change-email-form",placeholder:"new email",style:{borderRadius:"1em"},onInput:p=>{typeof p.target.reportValidity=="function"&&_(p.target)},maxLength:254,minLength:4,required:!0}),r("input",{type:"email",name:"login-change-email-re-email-input",id:"login-change-email-re-email-input",form:"login-change-email-form",placeholder:"re-enter new email",onInput:p=>{typeof p.target.reportValidity=="function"&&_(p.target)},style:{borderRadius:"1em"},maxLength:254,minLength:4,required:!0}),C,r("p",{style:{margin:"0",color:"var(--text-color-disabled)"},children:"🛈 A confirmation link will be sent to both old and new emails"})]}),w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{id:"login-change-email-cancel-button",type:"button",form:"login-change-email-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"}),r("button",{id:"login-change-email-submit-button",type:"submit",form:"login-change-email-form",className:"default-button primary-button",value:"send-email",title:"Send email change request",style:{position:"relative"},children:r("span",{className:"button__text",children:"Send link"})})]})]})})]})}function F(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();function p(G){const J=document.getElementById("login-change-password-submit-button"),ce=document.getElementById("login-change-password-cancel-button");J.classList.toggle("button--loading"),J.disabled=G,ce.disabled=G,_.target.elements["login-change-password-cur-email-input"].disabled=G}if(p(!0),_.target.elements["login-change-password-cur-email-input"].value!==$.email){_.target.elements["login-change-password-cur-email-input"].classList.add("invalid"),_.target.elements["login-change-password-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Email does not match"})),p(!1);return}const{error:te}=await fe.auth.resetPasswordForEmail($.email,{redirectTo:"http://localhost:5173/#reset-password",type:"link",autoLogin:!0});if(te){_.target.elements["login-change-password-cur-email-input"].classList.add("invalid"),_.target.elements["login-change-password-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Something went wrong while sending the email"})),p(!1);return}const ne=document.getElementById("email-not-sent"),z=document.getElementById("email-sent");ne.classList.toggle("slide-away-active"),setTimeout(()=>{z.classList.toggle("slide-away-active");const G=document.getElementById("login-change-password-submit-button"),J=document.getElementById("login-change-password-cancel-button");G.classList.remove("button--loading"),J.disabled=!1},150)}return w("div",{id:t.changePassword,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"Need a new password?"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-change-password-form",className:"login-form",onSubmit:Z,children:[w("div",{id:"email-sent",className:"slide-away",style:{position:"absolute",width:"calc(100% - 4em)",top:"32.5%",gap:"1em",alignItems:"center",display:"flex",flexDirection:"column"},children:[r("p",{children:"Done ✅"}),r("p",{children:"An email containing a link to reset your password has been sent to you (it may be in your spam folder). Follow the link in the email to complete the process."})]}),w("div",{id:"email-not-sent",className:"slide-away slide-away-active",children:[r("p",{children:"Please confirm your current email."}),r("input",{type:"email",name:"login-change-password-cur-email-input",id:"login-change-password-cur-email-input",form:"login-change-password-form",placeholder:O($.email),onInput:_=>{if(typeof _.target.reportValidity=="function"){_.preventDefault();const p=_.target,M=p.validity;M.customError&&(p.setCustomValidity(""),p.checkValidity()),(M.tooShort||M.tooLong)&&(p.classList.add("invalid"),p.setCustomValidity("Email must be at least 4 characters long.")),M.valueMissing?(p.classList.remove("invalid"),p.setCustomValidity("Please confirm your email.")):p.checkValidity()?p.classList.remove("invalid"):p.classList.add("invalid"),p.reportValidity()}},style:{borderRadius:"1em"},maxLength:254,minLength:4,required:!0}),C,r("p",{style:{margin:"0",color:"var(--text-color-disabled)"},children:"🛈 A link to change your password will be sent to your email"})]}),w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{id:"login-change-password-cancel-button",type:"button",form:"login-change-password-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"}),r("button",{id:"login-change-password-submit-button",type:"submit",form:"login-change-password-form",className:"default-button primary-button",value:"send-pr",title:"Send password change request",style:{position:"relative"},children:r("span",{className:"button__text",children:"Send link"})})]})]})})]})}function m(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();function p(z){const G=document.getElementById("login-delete-data-submit-button"),J=document.getElementById("login-delete-data-cancel-button");G.classList.toggle("button--loading"),G.disabled=z,J.disabled=z,_.target.elements["login-delete-data-cur-email-input"].disabled=z}if(p(!0),_.target.elements["login-delete-data-cur-email-input"].value!==$.email){_.target.elements["login-delete-data-cur-email-input"].classList.add("invalid"),_.target.elements["login-delete-data-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Email does not match"})),p(!1);return}const{error:te}=await fe.from("profiles").update({qrcodes:[]}).eq("id",$.id),{error:ne}=await fe.from("links").delete().eq("author",$.id);if(ne||te){if(_.target.elements["login-delete-data-cur-email-input"].classList.add("invalid"),_.target.elements["login-delete-data-cur-email-input"].focus(),p(!1),ne&&te){j(r("p",{id:"login-error-text",children:"Something went wrong deleting your links and QR codes"}));return}else if(te){j(r("p",{id:"login-error-text",children:"Something went wrong deleting your QR codes"}));return}else if(ne){j(r("p",{id:"login-error-text",children:"Something went wrong deleting your links"}));return}}H(t.user)}return w("div",{id:t.deleteData,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"Wipe the slate clean? 🧼"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-delete-data-form",className:"login-form",onSubmit:_=>{Z(_)},children:[w("p",{children:["Are you sure you want to ",r("i",{children:r("b",{style:{textDecoration:"underline"},children:"permanently"})})," delete all your data? This mean you will lose all your links and QR codes forever with no way of undoing it."]}),r("p",{children:"Confirm your email to continue."}),r("input",{type:"email",name:"login-delete-data-cur-email-input",id:"login-delete-data-cur-email-input",form:"login-delete-data-form",placeholder:O($.email),onInput:_=>{if(typeof _.target.reportValidity=="function"){_.preventDefault();const p=_.target,M=p.validity;M.customError&&(p.setCustomValidity(""),p.checkValidity()),(M.tooShort||M.tooLong)&&(p.classList.add("invalid"),p.setCustomValidity("Email must be at least 4 characters long.")),M.valueMissing?(p.classList.remove("invalid"),p.setCustomValidity("Please confirm your email.")):p.checkValidity()?p.classList.remove("invalid"):p.classList.add("invalid"),p.reportValidity()}},style:{borderRadius:"1em"},maxLength:254,minLength:4,required:!0}),C,w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{type:"button",id:"login-delete-data-cancel-button",form:"login-delete-data-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"}),r("button",{type:"submit",id:"login-delete-data-submit-button",form:"login-delete-data-form",className:"default-button primary-button",value:"continue",title:"Delete my data",style:{position:"relative"},children:r("span",{className:"button__text",children:"Delete"})})]})]})})]})}function d(){const[C,j]=s.useState(null);async function Z(_){_.preventDefault();function p(ne){const z=document.getElementById("login-delete-account-submit-button"),G=document.getElementById("login-delete-account-cancel-button");z.classList.toggle("button--loading"),z.disabled=ne,G.disabled=ne,_.target.elements["login-delete-account-cur-email-input"].disabled=ne}if(p(!0),_.target.elements["login-delete-account-cur-email-input"].value!==$.email){_.target.elements["login-delete-account-cur-email-input"].classList.add("invalid"),_.target.elements["login-delete-account-cur-email-input"].focus(),j(r("p",{id:"login-error-text",children:"Email does not match"})),p(!1);return}const{error:te}=await fe.rpc("delete_my_account");te&&(_.target.elements["login-delete-account-cur-email-input"].classList.add("invalid"),_.target.elements["login-delete-account-cur-email-input"].focus(),p(!1),j(r("p",{id:"login-error-text",children:"Something went wrong deleting your account"}))),await fe.auth.signOut(),window.location.reload(!0)}return w("div",{id:t.deleteAccount,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"You wanna leave? 🥺"}),r("div",{style:{margin:"0rem 2rem 2rem"},children:w("form",{id:"login-delete-account-form",className:"login-form",onSubmit:_=>Z(_),children:[w("p",{children:["Are you sure you want to ",r("i",{children:r("b",{style:{textDecoration:"underline"},children:"permanently"})})," delete your account? This mean you will lose all your links, QR codes, profile, and account status/access forever with no way of undoing it."]}),r("p",{children:"Confirm your email to continue."}),r("input",{type:"email",name:"login-delete-account-cur-email-input",id:"login-delete-account-cur-email-input",form:"login-delete-account-form",placeholder:O($.email),onInput:_=>{if(typeof _.target.reportValidity=="function"){_.preventDefault();const p=_.target,M=p.validity;M.customError&&(p.setCustomValidity(""),p.checkValidity()),(M.tooShort||M.tooLong)&&(p.classList.add("invalid"),p.setCustomValidity("Email must be at least 4 characters long.")),M.valueMissing?(p.classList.remove("invalid"),p.setCustomValidity("Please confirm your email.")):p.checkValidity()?p.classList.remove("invalid"):p.classList.add("invalid"),p.reportValidity()}},style:{borderRadius:"1em"},maxLength:254,minLength:4,required:!0}),C,w("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:[r("button",{type:"button",id:"login-delete-account-cancel-button",form:"login-delete-account-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"}),r("button",{type:"submit",id:"login-delete-account-submit-button",form:"login-delete-account-form",className:"default-button primary-button",value:"delete-acc",title:"Delete my account",style:{position:"relative"},children:r("span",{className:"button__text",children:"Delete"})})]})]})})]})}function D(){const[C,j]=s.useState(null),[Z,_]=s.useState(null),[p,M]=s.useState(null),[te,ne]=s.useState(!1),[z,G]=s.useState(null),[J,ce]=s.useState(null),[de,I]=s.useState(null),[N,g]=s.useState(null);s.useEffect(()=>{(async()=>{const{data:A,error:K}=await fe.from("profiles").select("email");K?console.log(K):g(A)})()},[]);async function E(A){A.preventDefault();function K(re){const he=document.getElementById("login-admin-submit-invite-button"),pe=document.getElementById("login-admin-cancel-button");he.classList.toggle("button--loading"),he.disabled=re,pe.disabled=re,document.getElementById("login-admin-invite-input").disabled=re}K(!0);const oe=document.getElementById("login-admin-invite-input").value,{error:ue}=await fe.functions.invoke("invite_user",{body:{email:oe}});if(ue){A.target.elements["login-admin-invite-input"].classList.add("invalid"),A.target.elements["login-admin-invite-input"].focus(),_(r("p",{id:"login-error-text",children:"Something went wrong while sending the email"})),K(!1);return}console.log("Invite sent successfully!"),_(r("p",{className:"password-check-green",style:{textAlign:"center"},children:"Invite sent successfully!"})),K(!1)}async function B(A){A.preventDefault();function K(re){const he=A.target.elements["login-admin-submit-change-perm-button"],pe=A.target.elements["login-admin-clear-sel-user-button"];he.classList.toggle("button--loading"),he.disabled=re,pe.disabled=re,A.target.elements["login-admin-change-perm-role-select"].disabled=re}K(!0);const oe=A.target.elements["login-admin-change-perm-role-select"].value;if(console.log("New role:",oe),!(J&&J!==de)){A.target.elements["login-admin-change-perm-role-select"].classList.add("invalid"),A.target.elements["login-admin-change-perm-role-select"].focus(),M(r("p",{id:"login-error-text",children:"Please select a new role"})),K(!1);return}const{error:ue}=await fe.from("user_roles").update({role:oe}).eq("email",z);if(console.log(ue),ue){M(r("p",{id:"login-error-text",children:"Something went wrong while changing the user role"})),K(!1);return}console.log("User role changed successfully!"),M(r("p",{className:"password-check-green",style:{textAlign:"center"},children:"User role changed successfully!"})),K(!1),ce(oe),z===$.email&&H(t.user)}function X(A){var K,oe;if(!A.target.parentElement.parentElement.classList.contains("disabled")){A.target.parentElement.parentElement.classList.add("disabled"),(K=document.querySelector(".login-admin-change-perm-user-item.user-selected"))==null||K.classList.remove("user-selected"),A.target.classList.add("user-selected"),M(null),G(A.target.textContent),ce(null);const ue=document.getElementById("login-admin-selected-user-details-section");ue.classList.add("user-details-visible"),(oe=ue.querySelector(".button__text"))==null||oe.parentElement.classList.add("button--loading"),setTimeout(async()=>{var pe;const{data:re,error:he}=await fe.from("profiles").select("role").eq("email",A.target.textContent).limit(1).single();if(A.target.parentElement.parentElement.classList.remove("disabled"),(pe=ue.querySelector(".button__text"))==null||pe.parentElement.classList.remove("button--loading"),he){console.error(he),M(r("p",{id:"login-error-text",children:"Something went wrong while getting the user's role"}));return}ce((re==null?void 0:re.role)??"member"),I((re==null?void 0:re.role)??"member")},0)}}return w("div",{id:t.admin,className:"slide-away slide-away-active",children:[r(Ee.Title,{style:{textAlign:"center",margin:"1.5em 0em"},children:"Admin"}),w("div",{style:{margin:"0rem 2rem 2rem",display:"flex",flexDirection:"column",gap:"1em"},children:[w("form",{id:"login-admin-invite-form",className:"login-form",onSubmit:A=>{E(A)},children:[r("label",{children:"Invite a user"}),w("div",{style:{width:"100%",display:"flex",alignItems:"center",gap:"0.5em"},children:[r("input",{type:"email",name:"login-admin-invite-input",id:"login-admin-invite-input",form:"login-admin-invite-form",placeholder:"user's email",style:{borderRadius:"1em",flexGrow:"1"},minLength:4,maxLength:254,required:!0,onInput:A=>{if(typeof A.target.reportValidity=="function"){A.preventDefault();const K=A.target,oe=K.validity;oe.customError&&(K.setCustomValidity(""),K.checkValidity()),oe.valueMissing?(K.classList.remove("invalid"),K.setCustomValidity("Please enter an email to invite."),ne(!1)):oe.tooShort||oe.tooLong?(K.classList.add("invalid"),K.setCustomValidity("Email must be at least 4 characters long."),ne(!1)):K.checkValidity()?(K.classList.remove("invalid"),ne(!0)):(K.classList.add("invalid"),ne(!1)),K.reportValidity()}}}),r("button",{type:"submit",id:"login-admin-submit-invite-button",form:"login-admin-invite-form",className:"default-button",value:"send-invite",title:"Send invite",style:{flexShrink:"0",position:"relative"},disabled:!te,children:r("span",{className:"button__text",children:"Invite"})})]}),Z]}),w("form",{id:"login-admin-change-perm-form",className:"login-form",onSubmit:A=>{B(A)},children:[r("label",{children:"Change user special permissions"}),r("div",{className:"primary-card-solid",style:{borderRadius:"1em",padding:"0.5em 0.5em 0.5em 0"},children:r("ul",{style:{maxHeight:"10em",overflowY:"scroll",overflowX:"hidden",display:"flex",flexDirection:"column",gap:"1px",margin:"0",padding:"0 0.5em"},children:N&&typeof N=="object"&&N.length>0&&N.map((A,K)=>r("li",{children:r("p",{className:"login-admin-change-perm-user-item",onClick:oe=>{X(oe)},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"0.5em"},children:A.email})},"login-admin-change-perm-user-"+K))})}),w("div",{id:"login-admin-selected-user-details-section",style:{height:"fit-content",padding:"0 0.5em"},children:[w("p",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:"0",display:"flex",gap:"0.5em"},children:[r("span",{children:"User:"}),r("span",{style:{color:"var(--accent-color)"},children:z})]}),r("div",{style:{position:"relative",height:"1.25em"},children:r("span",{className:"button__text",children:r("p",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:"0",display:"flex",gap:"0.5em"},children:J&&w(Xe,{children:[r("span",{children:"Role:"}),r("span",{style:{color:"var(--accent-color)"},children:J??"member"})]})})})}),r("button",{type:"button",id:"login-admin-clear-sel-user-button",form:"login-admin-change-perm-form",className:"default-button red-button",value:"clear",title:"Clear selected user",disabled:!z,style:{flexShrink:"0",padding:"0"},onClick:()=>{var K;G(null),I(null),ce(null),M(null),document.getElementById("login-admin-selected-user-details-section").classList.remove("user-details-visible"),(K=document.querySelector(".login-admin-change-perm-user-item.user-selected"))==null||K.classList.remove("user-selected")},children:"Deselect user"})]}),w("div",{style:{width:"100%",display:"flex",alignItems:"center",gap:"0.5em",justifyContent:"space-between"},children:[r("div",{className:"select-wrapper",children:w("select",{type:"text",name:"login-admin-change-perm-role-select",id:"login-admin-change-perm-role-select",form:"login-admin-change-perm-form",value:de??"member",onInput:A=>{I(A.target.value)},title:"Choose the permission level",disabled:!J,style:{height:"100%",width:"110px"},children:[r("option",{value:"member",children:"member"}),r("option",{value:"vip",children:"vip"}),r("option",{value:"admin",children:"admin"})]})}),r("div",{children:r("button",{type:"submit",id:"login-admin-submit-change-perm-button",form:"login-admin-change-perm-form",className:"default-button",value:"change-perm",title:"Change permission level",disabled:!(J&&J!==de),style:{flexShrink:"0",position:"relative"},children:r("span",{className:"button__text",children:"Change"})})})]}),p]}),C,r("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1em"},children:r("button",{type:"button",id:"login-admin-cancel-button",form:"login-admin-form",className:"default-button",value:"cancel",title:"Go back",onClick:()=>{H(t.user)},children:"Back"})})]})]})}function O(C){const j=C.split("@"),_=j[0].split("."),M=j[1].split(".");for(var te="",ne=0;ne<_.length;ne++)ne===0?te+=_[ne][0]+"*".repeat(_[ne].length-1):te+="."+"*".repeat(_[ne].length);for(var z="",G=0;G<M.length;G++)G===M.length-1?z+="."+M[G]:G===0?z+=M[G][0]+"*".repeat(M[G].length-1):z+="."+"*".repeat(M[G].length);return`${te}@${z}`}}const Ke="qr-code",Se="shorten-url",ha="",se={title:"QR Code",bgColor:"#FFFFFF",fgColor:"#000000",size:2056,ecLevel:"M",quietZone:0,enableCORS:!1,logoImage:{name:"",base64:""},logoWidth:128,logoHeight:128,logoOpacity:1,removeQrCodeBehindLogo:!1,logoPadding:0,logoPaddingStyle:"square",qrStyle:"squares",eyeRadius:0,eyeColor:"#000000"};class va{constructor(t){this.type=t}}class ql extends va{constructor({longUrl:t,shortUrl:n}){super(Se),this.longUrl=t,this.shortUrl=n}}class Fl extends va{constructor({value:t,settings:n}){super(Ke),this.value=t||ha,this.settings=n||se}}function ya({onDoneLoading:e}){ya.propTypes={onDoneLoading:Function};const[t,n]=s.useState(!1),[a,i]=s.useState(null),o={main:"shorten-url-main-page",result:"shorten-url-result-page",loading:"shorten-url-loading-page",error:"shorten-url-error-page"},[v,c]=s.useState(o.main),[h,f]=s.useState(null);s.useEffect(()=>{const{data:{subscription:L}}=fe.auth.onAuthStateChange((V,H)=>{f(H==null?void 0:H.user),e()});return()=>L.unsubscribe()},[]);const[u,R]=s.useState(!1);s.useEffect(()=>{if(!u)return;var L=1.25*1e3,V=Date.now()+L,H={startVelocity:30,spread:360,ticks:60,zIndex:0};function Y(U,y){return Math.random()*(y-U)+U}var P=setInterval(function(){var U=V-Date.now();if(U<=0)return clearInterval(P);var y=50*(U/L);confetti({...H,particleCount:y,colors:["#80C2D9"],disableForReducedMotion:!0,origin:{x:Y(.1,.3),y:Math.random()-.2}}),confetti({...H,particleCount:y,colors:["#80C2D9"],disableForReducedMotion:!0,origin:{x:Y(.7,.9),y:Math.random()-.2}})},250);x(o.result)},[u]),s.useEffect(()=>{a&&x(o.error)},[a]),s.useEffect(()=>{const L=document.getElementById(v);L&&L.classList.add("custom-slide-away-active")},[v]);function x(L){const V=document.getElementById(v);V&&(V.classList.remove("custom-slide-away-active"),setTimeout(()=>{c(L)},150))}function Q(L){L.preventDefault();const V=document.querySelector(".generate-button");V.disabled=!0;const H=document.getElementById(`${Se}-input`),Y=document.getElementById("alias-input"),P=document.getElementById("expirey-input");H.disabled=!0,Y.disabled=!0,P.disabled=!0;const U=H.value,y=Y.value,T=P.value;x(o.loading),$(U,y,T)}async function $(L,V,H){if(!L){i({code:400,message:"Please enter a valid URL."});return}const{data:Y,error:P}=await fe.functions.invoke("create_link",{body:{long_url:L,expires_in:H,short_url_key:V}});if(P){try{const y=await P.context.json();i(y.error),console.error(`Error: Response ${y.error.code}: ${y.error.message}`)}catch(y){i({code:"400",message:"Unknown error. Failed to parse error response."}),console.error("Failed to parse error response:",y,P)}return}const U=document.getElementById(`${o.result}-url`);U&&(U.textContent=Y.short_url,R(!0))}const k=L=>{L.key==="Enter"&&document.querySelector(`#${Se}-form`).requestSubmit()};function q(L){const V=L.id,H=L.validity;if(H.customError&&(L.setCustomValidity(""),L.checkValidity()),H.valueMissing)switch(n(null),L.classList.remove("invalid"),V){case`${Se}-input`:L.setCustomValidity("A URL to shorten is requried.");break}else if(H.tooShort||H.tooLong)switch(L.classList.add("invalid"),V){case"alias-input":L.setCustomValidity("An alias must be at least 4 characters long.");break}else if(L.checkValidity()==!0)n(!0),L.classList.remove("invalid");else switch(n(!1),L.classList.add("invalid"),V){case`${Se}-input`:L.setCustomValidity("The URL must be a valid http or https link.");break;case"alias-input":L.setCustomValidity("An alias can only contain letters, numbers, dashes, and underscores.");break}L.reportValidity()}return w("div",{id:`${Se}-card`,className:`card ${Se} primary-card-blurred op-slide-away-left`,style:{position:"relative"},children:[w("div",{id:o.main,className:`card-contents ${Se} custom-slide-away custom-slide-away-active`,style:{flexDirection:"column",alignItems:"center"},children:[r("h2",{children:"Shorten a URL ✂️"}),w("form",{id:`${Se}-form`,onSubmit:Q,style:{display:"flex",flexDirection:"column",justifyContent:"space-around",width:"100%",alignItems:"start",gap:"0.25em"},children:[w("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",width:"100%",alignItems:"start",gap:"0.5em"},children:[r("p",{children:"Shorten a long URL"}),w("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[r("label",{htmlFor:`${Se}-input`,style:{display:"none"},children:"Enter your long link"}),r("input",{type:"url",name:Se,id:`${Se}-input`,form:`${Se}-form`,onInput:L=>{typeof L.target.reportValidity=="function"&&q(L.target)},style:{borderRadius:"1em"},placeholder:"type or paste your link here...",pattern:"https?:\\/\\/.+",onKeyDown:k,autoComplete:"off",autoCorrect:"off",required:!0,autoFocus:!0})]}),w("div",{style:{display:"flex",alignItems:"center",margin:"0",gap:"0.5em"},children:[r("p",{children:"Customize"}),r(_n,{width:"250px",openUpward:!0,message:w("div",{style:{padding:"0.25em"},children:[r("p",{style:{textAlign:"start",fontSize:"0.9em",color:"var(--text-color)"},children:"Customize your short url:"}),w("ul",{style:{margin:"0",display:"flex",flexDirection:"column",gap:"0.25em",padding:"0.25em 0 0 0.3em",listStyle:"none",fontSize:"0.9em",color:"var(--text-color)",textAlign:"start"},children:[w("div",{style:{display:"flex",gap:"0.5em"},children:["➜",r("li",{children:"Add an alias for your short link rather than the randomly generated string"})]}),w("div",{style:{display:"flex",gap:"0.5em"},children:["➜",r("li",{children:"Set a TTL (Time to Live) to control the expiration of your short link"})]})]})]})})]}),w("div",{style:{display:"flex",width:"100%"},children:[r("label",{htmlFor:"alias-input",style:{display:"none"},value:"alias",children:"Enter an optional alias for you short link"}),r("input",{type:"text",name:"alias-input",id:"alias-input",form:`${Se}-form`,onInput:L=>{typeof L.target.reportValidity=="function"&&q(L.target)},pattern:"^[A-Za-z0-9_\\-]*$",maxLength:30,minLength:4,style:{width:"100%",borderTopLeftRadius:"1em",borderBottomLeftRadius:"1em"},placeholder:"enter an optional alias...",autoComplete:"off",autoCorrect:"off"}),r("div",{id:"expirey-input-wrapper",className:"select-wrapper",style:{borderTopLeftRadius:"0em",borderBottomLeftRadius:"0em"},children:w("select",{type:"number",name:"expirey-input",id:"expirey-input",form:`${Se}-form`,defaultValue:"30",title:"Choose the number of days until link expires",style:{borderTopLeftRadius:"0em",borderBottomLeftRadius:"0em",height:"100%",width:"110px"},children:[r("option",{value:"1",children:"1 day"}),r("option",{value:"2",children:"2 days"}),r("option",{value:"3",children:"3 days"}),r("option",{value:"5",children:"5 days"}),r("option",{value:"7",children:"7 days"}),r("option",{value:"14",children:"14 days"}),r("option",{value:"30",children:"30 days"}),w("option",{value:"60",disabled:!h,children:[h?null:"🗝️"," 60 days"]}),w("option",{value:"90",disabled:!h,children:[h?null:"🗝️"," 90 days"]}),w("option",{value:"180",disabled:!h,children:[h?null:"🗝️"," 180 days"]}),w("option",{value:"365",disabled:!h,children:[h?null:"🗝️"," 365 days"]}),w("option",{value:"Never",disabled:!h,children:[h?null:"🗝️"," Never"]})]})})]})]}),w("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",marginTop:"1em",gap:"1em"},children:[r("p",{children:"Just enter your link and hit the big red button to shorten it!"}),r("div",{children:w("button",{form:`${Se}-form`,type:"submit",value:"generate",className:"generate-button",disabled:!t,title:"Generate short link",children:[r("span",{className:"back"}),r("span",{className:"front"})]})})]})]})]}),r("div",{id:o.loading,className:"custom-slide-away",style:{position:"absolute",right:"0",left:"0",top:"0",bottom:"0",marginInline:"auto",width:"fit-content",display:"flex",alignItems:"center",padding:"1em",maxWidth:"100%"},children:r(Lr,{})}),w("div",{id:o.result,className:"custom-slide-away",style:{position:"absolute",right:"0",left:"0",top:"0",bottom:"0",marginInline:"auto",width:"fit-content",display:"flex",flexDirection:"column",justifyContent:"center",padding:"1em",maxWidth:"100%"},children:[r("h2",{children:"Your short URL has been generated!"}),w("div",{style:{margin:"1em",backgroundColor:"rgb(from var(--secondary-color) r g b / 25%)",borderRadius:"1em",padding:"1em",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1em",transition:"background-color var(--slow-transition-duration) var(--primary-curve)"},children:[r("p",{id:`${o.result}-url`,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"https://www.example.com"}),r("button",{className:"default-button",onClick:()=>{navigator.clipboard.writeText(document.getElementById(`${o.result}-url`).textContent)},children:"Copy"})]}),r("div",{children:r("button",{className:"default-button primary-button",onClick:()=>{window.location.href="/"},children:"Generate another!"})})]}),w("div",{id:o.error,className:"custom-slide-away",style:{position:"absolute",right:"0",left:"0",top:"0",bottom:"0",marginInline:"auto",width:"fit-content",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",maxWidth:"100%"},children:[r("h2",{style:{marginBottom:"0.25em"},children:"An error occured"}),w("div",{style:{marginTop:"0.25em",marginBottom:"0.5em",backgroundColor:"rgb(from var(--secondary-color) r g b / 25%)",borderRadius:"1em",padding:"1em",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"0.5em",transition:"background-color var(--slow-transition-duration) var(--primary-curve)"},children:[r("span",{style:{backgroundColor:"rgb(from #d12e2e r g b / 85%)",padding:"0.35em 0.85em",borderRadius:"1em",fontSize:"small",fontWeight:"bold",color:"#ffffff",width:"fit-content"},children:`Code: ${a==null?void 0:a.code}`}),r("p",{style:{color:"#d12e2e"},children:a==null?void 0:a.message})]}),r("button",{className:"default-button primary-button",onClick:()=>{window.location.href="/"},style:{marginTop:"0.5em"},children:"Reload page"})]})]})}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ba(e,t){if(e==null)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t.indexOf(n=o[a])>=0||(i[n]=e[n]);return i}function An(e){var t=s.useRef(e),n=s.useRef(function(a){t.current&&t.current(a)});return t.current=e,n.current}var It=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},kt=function(e){return"touches"in e},Nn=function(e){return e&&e.ownerDocument.defaultView||self},br=function(e,t,n){var a=e.getBoundingClientRect(),i=kt(t)?function(o,v){for(var c=0;c<o.length;c++)if(o[c].identifier===v)return o[c];return o[0]}(t.touches,n):t;return{left:It((i.pageX-(a.left+Nn(e).pageXOffset))/a.width),top:It((i.pageY-(a.top+Nn(e).pageYOffset))/a.height)}},wr=function(e){!kt(e)&&e.preventDefault()},wa=ee.memo(function(e){var t=e.onMove,n=e.onKey,a=ba(e,["onMove","onKey"]),i=s.useRef(null),o=An(t),v=An(n),c=s.useRef(null),h=s.useRef(!1),f=s.useMemo(function(){var Q=function(q){wr(q),(kt(q)?q.touches.length>0:q.buttons>0)&&i.current?o(br(i.current,q,c.current)):k(!1)},$=function(){return k(!1)};function k(q){var L=h.current,V=Nn(i.current),H=q?V.addEventListener:V.removeEventListener;H(L?"touchmove":"mousemove",Q),H(L?"touchend":"mouseup",$)}return[function(q){var L=q.nativeEvent,V=i.current;if(V&&(wr(L),!function(Y,P){return P&&!kt(Y)}(L,h.current)&&V)){if(kt(L)){h.current=!0;var H=L.changedTouches||[];H.length&&(c.current=H[0].identifier)}V.focus(),o(br(V,L,c.current)),k(!0)}},function(q){var L=q.which||q.keyCode;L<37||L>40||(q.preventDefault(),v({left:L===39?.05:L===37?-.05:0,top:L===40?.05:L===38?-.05:0}))},k]},[v,o]),u=f[0],R=f[1],x=f[2];return s.useEffect(function(){return x},[x]),ee.createElement("div",cn({},a,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:R,tabIndex:0,role:"slider"}))}),Hn=function(e){return e.filter(Boolean).join(" ")},Ca=function(e){var t=e.color,n=e.left,a=e.top,i=a===void 0?.5:a,o=Hn(["react-colorful__pointer",e.className]);return ee.createElement("div",{className:o,style:{top:100*i+"%",left:100*n+"%"}},ee.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Te=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},Ul=function(e){return jl(Pn(e))},Pn=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Te(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Te(parseInt(e.substring(6,8),16)/255,2):1}},$l=function(e){return Wl(Hl(e))},Vl=function(e){var t=e.s,n=e.v,a=e.a,i=(200-t)*n/100;return{h:Te(e.h),s:Te(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Te(i/2),a:Te(a,2)}},On=function(e){var t=Vl(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Hl=function(e){var t=e.h,n=e.s,a=e.v,i=e.a;t=t/360*6,n/=100,a/=100;var o=Math.floor(t),v=a*(1-n),c=a*(1-(t-o)*n),h=a*(1-(1-t+o)*n),f=o%6;return{r:Te(255*[a,c,v,v,h,a][f]),g:Te(255*[h,a,a,c,v,v][f]),b:Te(255*[v,v,h,a,a,c][f]),a:Te(i,2)}},en=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Wl=function(e){var t=e.r,n=e.g,a=e.b,i=e.a,o=i<1?en(Te(255*i)):"";return"#"+en(t)+en(n)+en(a)+o},jl=function(e){var t=e.r,n=e.g,a=e.b,i=e.a,o=Math.max(t,n,a),v=o-Math.min(t,n,a),c=v?o===t?(n-a)/v:o===n?2+(a-t)/v:4+(t-n)/v:0;return{h:Te(60*(c<0?c+6:c)),s:Te(o?v/o*100:0),v:Te(o/255*100),a:i}},Ql=ee.memo(function(e){var t=e.hue,n=e.onChange,a=Hn(["react-colorful__hue",e.className]);return ee.createElement("div",{className:a},ee.createElement(wa,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:It(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Te(t),"aria-valuemax":"360","aria-valuemin":"0"},ee.createElement(Ca,{className:"react-colorful__hue-pointer",left:t/360,color:On({h:t,s:100,v:100,a:1})})))}),Zl=ee.memo(function(e){var t=e.hsva,n=e.onChange,a={backgroundColor:On({h:t.h,s:100,v:100,a:1})};return ee.createElement("div",{className:"react-colorful__saturation",style:a},ee.createElement(wa,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:It(t.s+100*i.left,0,100),v:It(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Te(t.s)+"%, Brightness "+Te(t.v)+"%"},ee.createElement(Ca,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:On(t)})))}),xa=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},zl=function(e,t){return e.toLowerCase()===t.toLowerCase()||xa(Pn(e),Pn(t))};function Gl(e,t,n){var a=An(n),i=s.useState(function(){return e.toHsva(t)}),o=i[0],v=i[1],c=s.useRef({color:t,hsva:o});s.useEffect(function(){if(!e.equal(t,c.current.color)){var f=e.toHsva(t);c.current={hsva:f,color:t},v(f)}},[t,e]),s.useEffect(function(){var f;xa(o,c.current.hsva)||e.equal(f=e.fromHsva(o),c.current.color)||(c.current={hsva:o,color:f},a(f))},[o,e,a]);var h=s.useCallback(function(f){v(function(u){return Object.assign({},u,f)})},[]);return[o,h]}var Yl=typeof window<"u"?s.useLayoutEffect:s.useEffect,Kl=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Cr=new Map,Xl=function(e){Yl(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Cr.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Cr.set(t,n);var a=Kl();a&&n.setAttribute("nonce",a),t.head.appendChild(n)}},[])},Jl=function(e){var t=e.className,n=e.colorModel,a=e.color,i=a===void 0?n.defaultColor:a,o=e.onChange,v=ba(e,["className","colorModel","color","onChange"]),c=s.useRef(null);Xl(c);var h=Gl(n,i,o),f=h[0],u=h[1],R=Hn(["react-colorful",t]);return ee.createElement("div",cn({},v,{ref:c,className:R}),ee.createElement(Zl,{hsva:f,onChange:u}),ee.createElement(Ql,{hue:f.h,onChange:u,className:"react-colorful__last-control"}))},es={defaultColor:"000",toHsva:Ul,fromHsva:function(e){return $l({h:e.h,s:e.s,v:e.v,a:1})},equal:zl},ts=function(e){return ee.createElement(Jl,cn({},e,{colorModel:es}))};const ns=(e,t)=>{s.useEffect(()=>{let n=!1,a=!1;const i=v=>{n||!a||!e.current||e.current.contains(v.target)||t(v)},o=v=>{a=e.current,n=e.current&&e.current.contains(v.target)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("click",i),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("click",i)}},[e,t])},rn=({id:e,color:t,onChange:n})=>{rn.propTypes={id:String,color:String,onChange:Function};const a=s.useRef(),[i,o]=s.useState(!1),v=s.useCallback(()=>h(),[]);ns(a,v);function c(f){const u=f.target;u.value.length===0||u.checkValidity()==!0?u.classList.remove("invalid"):u.classList.add("invalid"),u.reportValidity(),n(u.value)}s.useEffect(()=>{setTimeout(()=>{a.current&&a.current.classList.toggle("popover-active")},0)},[i]);function h(){a.current&&(a.current.classList.toggle("popover-active"),setTimeout(()=>{o(!1)},150))}return w("div",{className:"picker",children:[r("div",{className:"picker-swatch",id:e,style:{backgroundColor:t},onClick:()=>o(!0)}),i&&w("div",{id:"popover-element",className:"primary-card-solid popover",ref:a,children:[r(ts,{color:t,onChange:n}),w("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1em"},children:[r("label",{htmlFor:"hex-color-input",children:"HEX"}),r("input",{type:"text",name:"hex-color-input",id:"hex-color-input",onInput:f=>{typeof f.target.reportValidity=="function"&&c(f)},pattern:"^#(?:[0-9a-fA-F]{3,4}){1,2}$",style:{borderRadius:"0.5em"},value:t,autoComplete:"off",autoCorrect:"off"})]})]})]})};var Ye={};const rs=Ci(xi);var Dt={exports:{}};Dt.exports;var xr;function as(){return xr||(xr=1,function(e,t){var n=200,a="__lodash_hash_undefined__",i=1,o=2,v=9007199254740991,c="[object Arguments]",h="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",R="[object Date]",x="[object Error]",Q="[object Function]",$="[object GeneratorFunction]",k="[object Map]",q="[object Number]",L="[object Null]",V="[object Object]",H="[object Promise]",Y="[object Proxy]",P="[object RegExp]",U="[object Set]",y="[object String]",T="[object Symbol]",S="[object Undefined]",F="[object WeakMap]",m="[object ArrayBuffer]",d="[object DataView]",D="[object Float32Array]",O="[object Float64Array]",C="[object Int8Array]",j="[object Int16Array]",Z="[object Int32Array]",_="[object Uint8Array]",p="[object Uint8ClampedArray]",M="[object Uint16Array]",te="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,J={};J[D]=J[O]=J[C]=J[j]=J[Z]=J[_]=J[p]=J[M]=J[te]=!0,J[c]=J[h]=J[m]=J[u]=J[d]=J[R]=J[x]=J[Q]=J[k]=J[q]=J[V]=J[P]=J[U]=J[y]=J[F]=!1;var ce=typeof jt=="object"&&jt&&jt.Object===Object&&jt,de=typeof self=="object"&&self&&self.Object===Object&&self,I=ce||de||Function("return this")(),N=t&&!t.nodeType&&t,g=N&&!0&&e&&!e.nodeType&&e,E=g&&g.exports===N,B=E&&ce.process,X=function(){try{return B&&B.binding&&B.binding("util")}catch{}}(),A=X&&X.isTypedArray;function K(l,b){for(var W=-1,ae=l==null?0:l.length,be=0,le=[];++W<ae;){var xe=l[W];b(xe,W,l)&&(le[be++]=xe)}return le}function oe(l,b){for(var W=-1,ae=b.length,be=l.length;++W<ae;)l[be+W]=b[W];return l}function ue(l,b){for(var W=-1,ae=l==null?0:l.length;++W<ae;)if(b(l[W],W,l))return!0;return!1}function re(l,b){for(var W=-1,ae=Array(l);++W<l;)ae[W]=b(W);return ae}function he(l){return function(b){return l(b)}}function pe(l,b){return l.has(b)}function We(l,b){return l==null?void 0:l[b]}function et(l){var b=-1,W=Array(l.size);return l.forEach(function(ae,be){W[++b]=[be,ae]}),W}function Be(l,b){return function(W){return l(b(W))}}function st(l){var b=-1,W=Array(l.size);return l.forEach(function(ae){W[++b]=ae}),W}var Ze=Array.prototype,un=Function.prototype,ht=Object.prototype,tt=I["__core-js_shared__"],Mt=un.toString,Ne=ht.hasOwnProperty,At=function(){var l=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),nt=ht.toString,Nt=RegExp("^"+Mt.call(Ne).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=E?I.Buffer:void 0,vt=I.Symbol,Ot=I.Uint8Array,Bt=ht.propertyIsEnumerable,dn=Ze.splice,ie=vt?vt.toStringTag:void 0,ge=Object.getOwnPropertySymbols,ve=Pt?Pt.isBuffer:void 0,me=Be(Object.keys,Object),ye=bt(I,"DataView"),Le=bt(I,"Map"),_e=bt(I,"Promise"),qe=bt(I,"Set"),Ae=bt(I,"WeakMap"),Pe=bt(Object,"create"),je=dt(ye),Fe=dt(Le),yt=dt(_e),qt=dt(qe),Da=dt(Ae),jn=vt?vt.prototype:void 0,fn=jn?jn.valueOf:void 0;function ct(l){var b=-1,W=l==null?0:l.length;for(this.clear();++b<W;){var ae=l[b];this.set(ae[0],ae[1])}}function ka(){this.__data__=Pe?Pe(null):{},this.size=0}function Ia(l){var b=this.has(l)&&delete this.__data__[l];return this.size-=b?1:0,b}function Ta(l){var b=this.__data__;if(Pe){var W=b[l];return W===a?void 0:W}return Ne.call(b,l)?b[l]:void 0}function Ma(l){var b=this.__data__;return Pe?b[l]!==void 0:Ne.call(b,l)}function Aa(l,b){var W=this.__data__;return this.size+=this.has(l)?0:1,W[l]=Pe&&b===void 0?a:b,this}ct.prototype.clear=ka,ct.prototype.delete=Ia,ct.prototype.get=Ta,ct.prototype.has=Ma,ct.prototype.set=Aa;function ze(l){var b=-1,W=l==null?0:l.length;for(this.clear();++b<W;){var ae=l[b];this.set(ae[0],ae[1])}}function Na(){this.__data__=[],this.size=0}function Pa(l){var b=this.__data__,W=Ut(b,l);if(W<0)return!1;var ae=b.length-1;return W==ae?b.pop():dn.call(b,W,1),--this.size,!0}function Oa(l){var b=this.__data__,W=Ut(b,l);return W<0?void 0:b[W][1]}function Ba(l){return Ut(this.__data__,l)>-1}function qa(l,b){var W=this.__data__,ae=Ut(W,l);return ae<0?(++this.size,W.push([l,b])):W[ae][1]=b,this}ze.prototype.clear=Na,ze.prototype.delete=Pa,ze.prototype.get=Oa,ze.prototype.has=Ba,ze.prototype.set=qa;function ut(l){var b=-1,W=l==null?0:l.length;for(this.clear();++b<W;){var ae=l[b];this.set(ae[0],ae[1])}}function Fa(){this.size=0,this.__data__={hash:new ct,map:new(Le||ze),string:new ct}}function Ua(l){var b=$t(this,l).delete(l);return this.size-=b?1:0,b}function $a(l){return $t(this,l).get(l)}function Va(l){return $t(this,l).has(l)}function Ha(l,b){var W=$t(this,l),ae=W.size;return W.set(l,b),this.size+=W.size==ae?0:1,this}ut.prototype.clear=Fa,ut.prototype.delete=Ua,ut.prototype.get=$a,ut.prototype.has=Va,ut.prototype.set=Ha;function Ft(l){var b=-1,W=l==null?0:l.length;for(this.__data__=new ut;++b<W;)this.add(l[b])}function Wa(l){return this.__data__.set(l,a),this}function ja(l){return this.__data__.has(l)}Ft.prototype.add=Ft.prototype.push=Wa,Ft.prototype.has=ja;function rt(l){var b=this.__data__=new ze(l);this.size=b.size}function Qa(){this.__data__=new ze,this.size=0}function Za(l){var b=this.__data__,W=b.delete(l);return this.size=b.size,W}function za(l){return this.__data__.get(l)}function Ga(l){return this.__data__.has(l)}function Ya(l,b){var W=this.__data__;if(W instanceof ze){var ae=W.__data__;if(!Le||ae.length<n-1)return ae.push([l,b]),this.size=++W.size,this;W=this.__data__=new ut(ae)}return W.set(l,b),this.size=W.size,this}rt.prototype.clear=Qa,rt.prototype.delete=Za,rt.prototype.get=za,rt.prototype.has=Ga,rt.prototype.set=Ya;function Ka(l,b){var W=Vt(l),ae=!W&&fi(l),be=!W&&!ae&&mn(l),le=!W&&!ae&&!be&&er(l),xe=W||ae||be||le,ke=xe?re(l.length,String):[],Ie=ke.length;for(var we in l)Ne.call(l,we)&&!(xe&&(we=="length"||be&&(we=="offset"||we=="parent")||le&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||li(we,Ie)))&&ke.push(we);return ke}function Ut(l,b){for(var W=l.length;W--;)if(Yn(l[W][0],b))return W;return-1}function Xa(l,b,W){var ae=b(l);return Vt(l)?ae:oe(ae,W(l))}function St(l){return l==null?l===void 0?S:L:ie&&ie in Object(l)?ii(l):di(l)}function Qn(l){return Lt(l)&&St(l)==c}function Zn(l,b,W,ae,be){return l===b?!0:l==null||b==null||!Lt(l)&&!Lt(b)?l!==l&&b!==b:Ja(l,b,W,ae,Zn,be)}function Ja(l,b,W,ae,be,le){var xe=Vt(l),ke=Vt(b),Ie=xe?h:at(l),we=ke?h:at(b);Ie=Ie==c?V:Ie,we=we==c?V:we;var Oe=Ie==V,Ve=we==V,Me=Ie==we;if(Me&&mn(l)){if(!mn(b))return!1;xe=!0,Oe=!1}if(Me&&!Oe)return le||(le=new rt),xe||er(l)?zn(l,b,W,ae,be,le):ri(l,b,Ie,W,ae,be,le);if(!(W&i)){var Ue=Oe&&Ne.call(l,"__wrapped__"),$e=Ve&&Ne.call(b,"__wrapped__");if(Ue||$e){var it=Ue?l.value():l,Ge=$e?b.value():b;return le||(le=new rt),be(it,Ge,W,ae,le)}}return Me?(le||(le=new rt),ai(l,b,W,ae,be,le)):!1}function ei(l){if(!Jn(l)||ci(l))return!1;var b=Kn(l)?Nt:z;return b.test(dt(l))}function ti(l){return Lt(l)&&Xn(l.length)&&!!J[St(l)]}function ni(l){if(!ui(l))return me(l);var b=[];for(var W in Object(l))Ne.call(l,W)&&W!="constructor"&&b.push(W);return b}function zn(l,b,W,ae,be,le){var xe=W&i,ke=l.length,Ie=b.length;if(ke!=Ie&&!(xe&&Ie>ke))return!1;var we=le.get(l);if(we&&le.get(b))return we==b;var Oe=-1,Ve=!0,Me=W&o?new Ft:void 0;for(le.set(l,b),le.set(b,l);++Oe<ke;){var Ue=l[Oe],$e=b[Oe];if(ae)var it=xe?ae($e,Ue,Oe,b,l,le):ae(Ue,$e,Oe,l,b,le);if(it!==void 0){if(it)continue;Ve=!1;break}if(Me){if(!ue(b,function(Ge,ft){if(!pe(Me,ft)&&(Ue===Ge||be(Ue,Ge,W,ae,le)))return Me.push(ft)})){Ve=!1;break}}else if(!(Ue===$e||be(Ue,$e,W,ae,le))){Ve=!1;break}}return le.delete(l),le.delete(b),Ve}function ri(l,b,W,ae,be,le,xe){switch(W){case d:if(l.byteLength!=b.byteLength||l.byteOffset!=b.byteOffset)return!1;l=l.buffer,b=b.buffer;case m:return!(l.byteLength!=b.byteLength||!le(new Ot(l),new Ot(b)));case u:case R:case q:return Yn(+l,+b);case x:return l.name==b.name&&l.message==b.message;case P:case y:return l==b+"";case k:var ke=et;case U:var Ie=ae&i;if(ke||(ke=st),l.size!=b.size&&!Ie)return!1;var we=xe.get(l);if(we)return we==b;ae|=o,xe.set(l,b);var Oe=zn(ke(l),ke(b),ae,be,le,xe);return xe.delete(l),Oe;case T:if(fn)return fn.call(l)==fn.call(b)}return!1}function ai(l,b,W,ae,be,le){var xe=W&i,ke=Gn(l),Ie=ke.length,we=Gn(b),Oe=we.length;if(Ie!=Oe&&!xe)return!1;for(var Ve=Ie;Ve--;){var Me=ke[Ve];if(!(xe?Me in b:Ne.call(b,Me)))return!1}var Ue=le.get(l);if(Ue&&le.get(b))return Ue==b;var $e=!0;le.set(l,b),le.set(b,l);for(var it=xe;++Ve<Ie;){Me=ke[Ve];var Ge=l[Me],ft=b[Me];if(ae)var tr=xe?ae(ft,Ge,Me,b,l,le):ae(Ge,ft,Me,l,b,le);if(!(tr===void 0?Ge===ft||be(Ge,ft,W,ae,le):tr)){$e=!1;break}it||(it=Me=="constructor")}if($e&&!it){var Ht=l.constructor,Wt=b.constructor;Ht!=Wt&&"constructor"in l&&"constructor"in b&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof Wt=="function"&&Wt instanceof Wt)&&($e=!1)}return le.delete(l),le.delete(b),$e}function Gn(l){return Xa(l,pi,oi)}function $t(l,b){var W=l.__data__;return si(b)?W[typeof b=="string"?"string":"hash"]:W.map}function bt(l,b){var W=We(l,b);return ei(W)?W:void 0}function ii(l){var b=Ne.call(l,ie),W=l[ie];try{l[ie]=void 0;var ae=!0}catch{}var be=nt.call(l);return ae&&(b?l[ie]=W:delete l[ie]),be}var oi=ge?function(l){return l==null?[]:(l=Object(l),K(ge(l),function(b){return Bt.call(l,b)}))}:hi,at=St;(ye&&at(new ye(new ArrayBuffer(1)))!=d||Le&&at(new Le)!=k||_e&&at(_e.resolve())!=H||qe&&at(new qe)!=U||Ae&&at(new Ae)!=F)&&(at=function(l){var b=St(l),W=b==V?l.constructor:void 0,ae=W?dt(W):"";if(ae)switch(ae){case je:return d;case Fe:return k;case yt:return H;case qt:return U;case Da:return F}return b});function li(l,b){return b=b??v,!!b&&(typeof l=="number"||G.test(l))&&l>-1&&l%1==0&&l<b}function si(l){var b=typeof l;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?l!=="__proto__":l===null}function ci(l){return!!At&&At in l}function ui(l){var b=l&&l.constructor,W=typeof b=="function"&&b.prototype||ht;return l===W}function di(l){return nt.call(l)}function dt(l){if(l!=null){try{return Mt.call(l)}catch{}try{return l+""}catch{}}return""}function Yn(l,b){return l===b||l!==l&&b!==b}var fi=Qn(function(){return arguments}())?Qn:function(l){return Lt(l)&&Ne.call(l,"callee")&&!Bt.call(l,"callee")},Vt=Array.isArray;function mi(l){return l!=null&&Xn(l.length)&&!Kn(l)}var mn=ve||vi;function gi(l,b){return Zn(l,b)}function Kn(l){if(!Jn(l))return!1;var b=St(l);return b==Q||b==$||b==f||b==Y}function Xn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=v}function Jn(l){var b=typeof l;return l!=null&&(b=="object"||b=="function")}function Lt(l){return l!=null&&typeof l=="object"}var er=A?he(A):ti;function pi(l){return mi(l)?Ka(l):ni(l)}function hi(){return[]}function vi(){return!1}e.exports=gi}(Dt,Dt.exports)),Dt.exports}var Rn={exports:{}},Er;function is(){return Er||(Er=1,function(e,t){var n=function(){var a=function(P,U){var y=236,T=17,S=P,F=o[U],m=null,d=0,D=null,O=[],C={},j=function(I,N){d=S*4+17,m=function(g){for(var E=new Array(g),B=0;B<g;B+=1){E[B]=new Array(g);for(var X=0;X<g;X+=1)E[B][X]=null}return E}(d),Z(0,0),Z(d-7,0),Z(0,d-7),M(),p(),ne(I,N),S>=7&&te(I),D==null&&(D=J(S,F,O)),z(D,N)},Z=function(I,N){for(var g=-1;g<=7;g+=1)if(!(I+g<=-1||d<=I+g))for(var E=-1;E<=7;E+=1)N+E<=-1||d<=N+E||(0<=g&&g<=6&&(E==0||E==6)||0<=E&&E<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=E&&E<=4?m[I+g][N+E]=!0:m[I+g][N+E]=!1)},_=function(){for(var I=0,N=0,g=0;g<8;g+=1){j(!0,g);var E=c.getLostPoint(C);(g==0||I>E)&&(I=E,N=g)}return N},p=function(){for(var I=8;I<d-8;I+=1)m[I][6]==null&&(m[I][6]=I%2==0);for(var N=8;N<d-8;N+=1)m[6][N]==null&&(m[6][N]=N%2==0)},M=function(){for(var I=c.getPatternPosition(S),N=0;N<I.length;N+=1)for(var g=0;g<I.length;g+=1){var E=I[N],B=I[g];if(m[E][B]==null)for(var X=-2;X<=2;X+=1)for(var A=-2;A<=2;A+=1)X==-2||X==2||A==-2||A==2||X==0&&A==0?m[E+X][B+A]=!0:m[E+X][B+A]=!1}},te=function(I){for(var N=c.getBCHTypeNumber(S),g=0;g<18;g+=1){var E=!I&&(N>>g&1)==1;m[Math.floor(g/3)][g%3+d-8-3]=E}for(var g=0;g<18;g+=1){var E=!I&&(N>>g&1)==1;m[g%3+d-8-3][Math.floor(g/3)]=E}},ne=function(I,N){for(var g=F<<3|N,E=c.getBCHTypeInfo(g),B=0;B<15;B+=1){var X=!I&&(E>>B&1)==1;B<6?m[B][8]=X:B<8?m[B+1][8]=X:m[d-15+B][8]=X}for(var B=0;B<15;B+=1){var X=!I&&(E>>B&1)==1;B<8?m[8][d-B-1]=X:B<9?m[8][15-B-1+1]=X:m[8][15-B-1]=X}m[d-8][8]=!I},z=function(I,N){for(var g=-1,E=d-1,B=7,X=0,A=c.getMaskFunction(N),K=d-1;K>0;K-=2)for(K==6&&(K-=1);;){for(var oe=0;oe<2;oe+=1)if(m[E][K-oe]==null){var ue=!1;X<I.length&&(ue=(I[X]>>>B&1)==1);var re=A(E,K-oe);re&&(ue=!ue),m[E][K-oe]=ue,B-=1,B==-1&&(X+=1,B=7)}if(E+=g,E<0||d<=E){E-=g,g=-g;break}}},G=function(I,N){for(var g=0,E=0,B=0,X=new Array(N.length),A=new Array(N.length),K=0;K<N.length;K+=1){var oe=N[K].dataCount,ue=N[K].totalCount-oe;E=Math.max(E,oe),B=Math.max(B,ue),X[K]=new Array(oe);for(var re=0;re<X[K].length;re+=1)X[K][re]=255&I.getBuffer()[re+g];g+=oe;var he=c.getErrorCorrectPolynomial(ue),pe=f(X[K],he.getLength()-1),We=pe.mod(he);A[K]=new Array(he.getLength()-1);for(var re=0;re<A[K].length;re+=1){var et=re+We.getLength()-A[K].length;A[K][re]=et>=0?We.getAt(et):0}}for(var Be=0,re=0;re<N.length;re+=1)Be+=N[re].totalCount;for(var st=new Array(Be),Ze=0,re=0;re<E;re+=1)for(var K=0;K<N.length;K+=1)re<X[K].length&&(st[Ze]=X[K][re],Ze+=1);for(var re=0;re<B;re+=1)for(var K=0;K<N.length;K+=1)re<A[K].length&&(st[Ze]=A[K][re],Ze+=1);return st},J=function(I,N,g){for(var E=u.getRSBlocks(I,N),B=R(),X=0;X<g.length;X+=1){var A=g[X];B.put(A.getMode(),4),B.put(A.getLength(),c.getLengthInBits(A.getMode(),I)),A.write(B)}for(var K=0,X=0;X<E.length;X+=1)K+=E[X].dataCount;if(B.getLengthInBits()>K*8)throw"code length overflow. ("+B.getLengthInBits()+">"+K*8+")";for(B.getLengthInBits()+4<=K*8&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(!1);for(;!(B.getLengthInBits()>=K*8||(B.put(y,8),B.getLengthInBits()>=K*8));)B.put(T,8);return G(B,E)};C.addData=function(I,N){N=N||"Byte";var g=null;switch(N){case"Numeric":g=x(I);break;case"Alphanumeric":g=Q(I);break;case"Byte":g=$(I);break;case"Kanji":g=k(I);break;default:throw"mode:"+N}O.push(g),D=null},C.isDark=function(I,N){if(I<0||d<=I||N<0||d<=N)throw I+","+N;return m[I][N]},C.getModuleCount=function(){return d},C.make=function(){if(S<1){for(var I=1;I<40;I++){for(var N=u.getRSBlocks(I,F),g=R(),E=0;E<O.length;E++){var B=O[E];g.put(B.getMode(),4),g.put(B.getLength(),c.getLengthInBits(B.getMode(),I)),B.write(g)}for(var X=0,E=0;E<N.length;E++)X+=N[E].dataCount;if(g.getLengthInBits()<=X*8)break}S=I}j(!1,_())},C.createTableTag=function(I,N){I=I||2,N=typeof N>"u"?I*4:N;var g="";g+='<table style="',g+=" border-width: 0px; border-style: none;",g+=" border-collapse: collapse;",g+=" padding: 0px; margin: "+N+"px;",g+='">',g+="<tbody>";for(var E=0;E<C.getModuleCount();E+=1){g+="<tr>";for(var B=0;B<C.getModuleCount();B+=1)g+='<td style="',g+=" border-width: 0px; border-style: none;",g+=" border-collapse: collapse;",g+=" padding: 0px; margin: 0px;",g+=" width: "+I+"px;",g+=" height: "+I+"px;",g+=" background-color: ",g+=C.isDark(E,B)?"#000000":"#ffffff",g+=";",g+='"/>';g+="</tr>"}return g+="</tbody>",g+="</table>",g},C.createSvgTag=function(I,N,g,E){var B={};typeof arguments[0]=="object"&&(B=arguments[0],I=B.cellSize,N=B.margin,g=B.alt,E=B.title),I=I||2,N=typeof N>"u"?I*4:N,g=typeof g=="string"?{text:g}:g||{},g.text=g.text||null,g.id=g.text?g.id||"qrcode-description":null,E=typeof E=="string"?{text:E}:E||{},E.text=E.text||null,E.id=E.text?E.id||"qrcode-title":null;var X=C.getModuleCount()*I+N*2,A,K,oe,ue,re="",he;for(he="l"+I+",0 0,"+I+" -"+I+",0 0,-"+I+"z ",re+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',re+=B.scalable?"":' width="'+X+'px" height="'+X+'px"',re+=' viewBox="0 0 '+X+" "+X+'" ',re+=' preserveAspectRatio="xMinYMin meet"',re+=E.text||g.text?' role="img" aria-labelledby="'+ce([E.id,g.id].join(" ").trim())+'"':"",re+=">",re+=E.text?'<title id="'+ce(E.id)+'">'+ce(E.text)+"</title>":"",re+=g.text?'<description id="'+ce(g.id)+'">'+ce(g.text)+"</description>":"",re+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',re+='<path d="',oe=0;oe<C.getModuleCount();oe+=1)for(ue=oe*I+N,A=0;A<C.getModuleCount();A+=1)C.isDark(oe,A)&&(K=A*I+N,re+="M"+K+","+ue+he);return re+='" stroke="transparent" fill="black"/>',re+="</svg>",re},C.createDataURL=function(I,N){I=I||2,N=typeof N>"u"?I*4:N;var g=C.getModuleCount()*I+N*2,E=N,B=g-N;return Y(g,g,function(X,A){if(E<=X&&X<B&&E<=A&&A<B){var K=Math.floor((X-E)/I),oe=Math.floor((A-E)/I);return C.isDark(oe,K)?0:1}else return 1})},C.createImgTag=function(I,N,g){I=I||2,N=typeof N>"u"?I*4:N;var E=C.getModuleCount()*I+N*2,B="";return B+="<img",B+=' src="',B+=C.createDataURL(I,N),B+='"',B+=' width="',B+=E,B+='"',B+=' height="',B+=E,B+='"',g&&(B+=' alt="',B+=ce(g),B+='"'),B+="/>",B};var ce=function(I){for(var N="",g=0;g<I.length;g+=1){var E=I.charAt(g);switch(E){case"<":N+="&lt;";break;case">":N+="&gt;";break;case"&":N+="&amp;";break;case'"':N+="&quot;";break;default:N+=E;break}}return N},de=function(I){var N=1;I=typeof I>"u"?N*2:I;var g=C.getModuleCount()*N+I*2,E=I,B=g-I,X,A,K,oe,ue,re={"██":"█","█ ":"▀"," █":"▄","  ":" "},he={"██":"▀","█ ":"▀"," █":" ","  ":" "},pe="";for(X=0;X<g;X+=2){for(K=Math.floor((X-E)/N),oe=Math.floor((X+1-E)/N),A=0;A<g;A+=1)ue="█",E<=A&&A<B&&E<=X&&X<B&&C.isDark(K,Math.floor((A-E)/N))&&(ue=" "),E<=A&&A<B&&E<=X+1&&X+1<B&&C.isDark(oe,Math.floor((A-E)/N))?ue+=" ":ue+="█",pe+=I<1&&X+1>=B?he[ue]:re[ue];pe+=`
`}return g%2&&I>0?pe.substring(0,pe.length-g-1)+Array(g+1).join("▀"):pe.substring(0,pe.length-1)};return C.createASCII=function(I,N){if(I=I||1,I<2)return de(N);I-=1,N=typeof N>"u"?I*2:N;var g=C.getModuleCount()*I+N*2,E=N,B=g-N,X,A,K,oe,ue=Array(I+1).join("██"),re=Array(I+1).join("  "),he="",pe="";for(X=0;X<g;X+=1){for(K=Math.floor((X-E)/I),pe="",A=0;A<g;A+=1)oe=1,E<=A&&A<B&&E<=X&&X<B&&C.isDark(K,Math.floor((A-E)/I))&&(oe=0),pe+=oe?ue:re;for(K=0;K<I;K+=1)he+=pe+`
`}return he.substring(0,he.length-1)},C.renderTo2dContext=function(I,N){N=N||2;for(var g=C.getModuleCount(),E=0;E<g;E++)for(var B=0;B<g;B++)I.fillStyle=C.isDark(E,B)?"black":"white",I.fillRect(E*N,B*N,N,N)},C};a.stringToBytesFuncs={default:function(P){for(var U=[],y=0;y<P.length;y+=1){var T=P.charCodeAt(y);U.push(T&255)}return U}},a.stringToBytes=a.stringToBytesFuncs.default,a.createStringToBytes=function(P,U){var y=function(){for(var S=V(P),F=function(){var p=S.read();if(p==-1)throw"eof";return p},m=0,d={};;){var D=S.read();if(D==-1)break;var O=F(),C=F(),j=F(),Z=String.fromCharCode(D<<8|O),_=C<<8|j;d[Z]=_,m+=1}if(m!=U)throw m+" != "+U;return d}(),T=63;return function(S){for(var F=[],m=0;m<S.length;m+=1){var d=S.charCodeAt(m);if(d<128)F.push(d);else{var D=y[S.charAt(m)];typeof D=="number"?(D&255)==D?F.push(D):(F.push(D>>>8),F.push(D&255)):F.push(T)}}return F}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},v={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c=function(){var P=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],U=1335,y=7973,T=21522,S={},F=function(m){for(var d=0;m!=0;)d+=1,m>>>=1;return d};return S.getBCHTypeInfo=function(m){for(var d=m<<10;F(d)-F(U)>=0;)d^=U<<F(d)-F(U);return(m<<10|d)^T},S.getBCHTypeNumber=function(m){for(var d=m<<12;F(d)-F(y)>=0;)d^=y<<F(d)-F(y);return m<<12|d},S.getPatternPosition=function(m){return P[m-1]},S.getMaskFunction=function(m){switch(m){case v.PATTERN000:return function(d,D){return(d+D)%2==0};case v.PATTERN001:return function(d,D){return d%2==0};case v.PATTERN010:return function(d,D){return D%3==0};case v.PATTERN011:return function(d,D){return(d+D)%3==0};case v.PATTERN100:return function(d,D){return(Math.floor(d/2)+Math.floor(D/3))%2==0};case v.PATTERN101:return function(d,D){return d*D%2+d*D%3==0};case v.PATTERN110:return function(d,D){return(d*D%2+d*D%3)%2==0};case v.PATTERN111:return function(d,D){return(d*D%3+(d+D)%2)%2==0};default:throw"bad maskPattern:"+m}},S.getErrorCorrectPolynomial=function(m){for(var d=f([1],0),D=0;D<m;D+=1)d=d.multiply(f([1,h.gexp(D)],0));return d},S.getLengthInBits=function(m,d){if(1<=d&&d<10)switch(m){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+m}else if(d<27)switch(m){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+m}else if(d<41)switch(m){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+m}else throw"type:"+d},S.getLostPoint=function(m){for(var d=m.getModuleCount(),D=0,O=0;O<d;O+=1)for(var C=0;C<d;C+=1){for(var j=0,Z=m.isDark(O,C),_=-1;_<=1;_+=1)if(!(O+_<0||d<=O+_))for(var p=-1;p<=1;p+=1)C+p<0||d<=C+p||_==0&&p==0||Z==m.isDark(O+_,C+p)&&(j+=1);j>5&&(D+=3+j-5)}for(var O=0;O<d-1;O+=1)for(var C=0;C<d-1;C+=1){var M=0;m.isDark(O,C)&&(M+=1),m.isDark(O+1,C)&&(M+=1),m.isDark(O,C+1)&&(M+=1),m.isDark(O+1,C+1)&&(M+=1),(M==0||M==4)&&(D+=3)}for(var O=0;O<d;O+=1)for(var C=0;C<d-6;C+=1)m.isDark(O,C)&&!m.isDark(O,C+1)&&m.isDark(O,C+2)&&m.isDark(O,C+3)&&m.isDark(O,C+4)&&!m.isDark(O,C+5)&&m.isDark(O,C+6)&&(D+=40);for(var C=0;C<d;C+=1)for(var O=0;O<d-6;O+=1)m.isDark(O,C)&&!m.isDark(O+1,C)&&m.isDark(O+2,C)&&m.isDark(O+3,C)&&m.isDark(O+4,C)&&!m.isDark(O+5,C)&&m.isDark(O+6,C)&&(D+=40);for(var te=0,C=0;C<d;C+=1)for(var O=0;O<d;O+=1)m.isDark(O,C)&&(te+=1);var ne=Math.abs(100*te/d/d-50)/5;return D+=ne*10,D},S}(),h=function(){for(var P=new Array(256),U=new Array(256),y=0;y<8;y+=1)P[y]=1<<y;for(var y=8;y<256;y+=1)P[y]=P[y-4]^P[y-5]^P[y-6]^P[y-8];for(var y=0;y<255;y+=1)U[P[y]]=y;var T={};return T.glog=function(S){if(S<1)throw"glog("+S+")";return U[S]},T.gexp=function(S){for(;S<0;)S+=255;for(;S>=256;)S-=255;return P[S]},T}();function f(P,U){if(typeof P.length>"u")throw P.length+"/"+U;var y=function(){for(var S=0;S<P.length&&P[S]==0;)S+=1;for(var F=new Array(P.length-S+U),m=0;m<P.length-S;m+=1)F[m]=P[m+S];return F}(),T={};return T.getAt=function(S){return y[S]},T.getLength=function(){return y.length},T.multiply=function(S){for(var F=new Array(T.getLength()+S.getLength()-1),m=0;m<T.getLength();m+=1)for(var d=0;d<S.getLength();d+=1)F[m+d]^=h.gexp(h.glog(T.getAt(m))+h.glog(S.getAt(d)));return f(F,0)},T.mod=function(S){if(T.getLength()-S.getLength()<0)return T;for(var F=h.glog(T.getAt(0))-h.glog(S.getAt(0)),m=new Array(T.getLength()),d=0;d<T.getLength();d+=1)m[d]=T.getAt(d);for(var d=0;d<S.getLength();d+=1)m[d]^=h.gexp(h.glog(S.getAt(d))+F);return f(m,0).mod(S)},T}var u=function(){var P=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],U=function(S,F){var m={};return m.totalCount=S,m.dataCount=F,m},y={},T=function(S,F){switch(F){case o.L:return P[(S-1)*4+0];case o.M:return P[(S-1)*4+1];case o.Q:return P[(S-1)*4+2];case o.H:return P[(S-1)*4+3];default:return}};return y.getRSBlocks=function(S,F){var m=T(S,F);if(typeof m>"u")throw"bad rs block @ typeNumber:"+S+"/errorCorrectionLevel:"+F;for(var d=m.length/3,D=[],O=0;O<d;O+=1)for(var C=m[O*3+0],j=m[O*3+1],Z=m[O*3+2],_=0;_<C;_+=1)D.push(U(j,Z));return D},y}(),R=function(){var P=[],U=0,y={};return y.getBuffer=function(){return P},y.getAt=function(T){var S=Math.floor(T/8);return(P[S]>>>7-T%8&1)==1},y.put=function(T,S){for(var F=0;F<S;F+=1)y.putBit((T>>>S-F-1&1)==1)},y.getLengthInBits=function(){return U},y.putBit=function(T){var S=Math.floor(U/8);P.length<=S&&P.push(0),T&&(P[S]|=128>>>U%8),U+=1},y},x=function(P){var U=i.MODE_NUMBER,y=P,T={};T.getMode=function(){return U},T.getLength=function(m){return y.length},T.write=function(m){for(var d=y,D=0;D+2<d.length;)m.put(S(d.substring(D,D+3)),10),D+=3;D<d.length&&(d.length-D==1?m.put(S(d.substring(D,D+1)),4):d.length-D==2&&m.put(S(d.substring(D,D+2)),7))};var S=function(m){for(var d=0,D=0;D<m.length;D+=1)d=d*10+F(m.charAt(D));return d},F=function(m){if("0"<=m&&m<="9")return m.charCodeAt(0)-48;throw"illegal char :"+m};return T},Q=function(P){var U=i.MODE_ALPHA_NUM,y=P,T={};T.getMode=function(){return U},T.getLength=function(F){return y.length},T.write=function(F){for(var m=y,d=0;d+1<m.length;)F.put(S(m.charAt(d))*45+S(m.charAt(d+1)),11),d+=2;d<m.length&&F.put(S(m.charAt(d)),6)};var S=function(F){if("0"<=F&&F<="9")return F.charCodeAt(0)-48;if("A"<=F&&F<="Z")return F.charCodeAt(0)-65+10;switch(F){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+F}};return T},$=function(P){var U=i.MODE_8BIT_BYTE,y=a.stringToBytes(P),T={};return T.getMode=function(){return U},T.getLength=function(S){return y.length},T.write=function(S){for(var F=0;F<y.length;F+=1)S.put(y[F],8)},T},k=function(P){var U=i.MODE_KANJI,y=a.stringToBytesFuncs.SJIS;if(!y)throw"sjis not supported.";(function(F,m){var d=y(F);if(d.length!=2||(d[0]<<8|d[1])!=m)throw"sjis not supported."})("友",38726);var T=y(P),S={};return S.getMode=function(){return U},S.getLength=function(F){return~~(T.length/2)},S.write=function(F){for(var m=T,d=0;d+1<m.length;){var D=(255&m[d])<<8|255&m[d+1];if(33088<=D&&D<=40956)D-=33088;else if(57408<=D&&D<=60351)D-=49472;else throw"illegal char at "+(d+1)+"/"+D;D=(D>>>8&255)*192+(D&255),F.put(D,13),d+=2}if(d<m.length)throw"illegal char at "+(d+1)},S},q=function(){var P=[],U={};return U.writeByte=function(y){P.push(y&255)},U.writeShort=function(y){U.writeByte(y),U.writeByte(y>>>8)},U.writeBytes=function(y,T,S){T=T||0,S=S||y.length;for(var F=0;F<S;F+=1)U.writeByte(y[F+T])},U.writeString=function(y){for(var T=0;T<y.length;T+=1)U.writeByte(y.charCodeAt(T))},U.toByteArray=function(){return P},U.toString=function(){var y="";y+="[";for(var T=0;T<P.length;T+=1)T>0&&(y+=","),y+=P[T];return y+="]",y},U},L=function(){var P=0,U=0,y=0,T="",S={},F=function(d){T+=String.fromCharCode(m(d&63))},m=function(d){if(!(d<0)){if(d<26)return 65+d;if(d<52)return 97+(d-26);if(d<62)return 48+(d-52);if(d==62)return 43;if(d==63)return 47}throw"n:"+d};return S.writeByte=function(d){for(P=P<<8|d&255,U+=8,y+=1;U>=6;)F(P>>>U-6),U-=6},S.flush=function(){if(U>0&&(F(P<<6-U),P=0,U=0),y%3!=0)for(var d=3-y%3,D=0;D<d;D+=1)T+="="},S.toString=function(){return T},S},V=function(P){var U=P,y=0,T=0,S=0,F={};F.read=function(){for(;S<8;){if(y>=U.length){if(S==0)return-1;throw"unexpected end of file./"+S}var d=U.charAt(y);if(y+=1,d=="=")return S=0,-1;if(d.match(/^\s$/))continue;T=T<<6|m(d.charCodeAt(0)),S+=6}var D=T>>>S-8&255;return S-=8,D};var m=function(d){if(65<=d&&d<=90)return d-65;if(97<=d&&d<=122)return d-97+26;if(48<=d&&d<=57)return d-48+52;if(d==43)return 62;if(d==47)return 63;throw"c:"+d};return F},H=function(P,U){var y=P,T=U,S=new Array(P*U),F={};F.setPixel=function(O,C,j){S[C*y+O]=j},F.write=function(O){O.writeString("GIF87a"),O.writeShort(y),O.writeShort(T),O.writeByte(128),O.writeByte(0),O.writeByte(0),O.writeByte(0),O.writeByte(0),O.writeByte(0),O.writeByte(255),O.writeByte(255),O.writeByte(255),O.writeString(","),O.writeShort(0),O.writeShort(0),O.writeShort(y),O.writeShort(T),O.writeByte(0);var C=2,j=d(C);O.writeByte(C);for(var Z=0;j.length-Z>255;)O.writeByte(255),O.writeBytes(j,Z,255),Z+=255;O.writeByte(j.length-Z),O.writeBytes(j,Z,j.length-Z),O.writeByte(0),O.writeString(";")};var m=function(O){var C=O,j=0,Z=0,_={};return _.write=function(p,M){if(p>>>M)throw"length over";for(;j+M>=8;)C.writeByte(255&(p<<j|Z)),M-=8-j,p>>>=8-j,Z=0,j=0;Z=p<<j|Z,j=j+M},_.flush=function(){j>0&&C.writeByte(Z)},_},d=function(O){for(var C=1<<O,j=(1<<O)+1,Z=O+1,_=D(),p=0;p<C;p+=1)_.add(String.fromCharCode(p));_.add(String.fromCharCode(C)),_.add(String.fromCharCode(j));var M=q(),te=m(M);te.write(C,Z);var ne=0,z=String.fromCharCode(S[ne]);for(ne+=1;ne<S.length;){var G=String.fromCharCode(S[ne]);ne+=1,_.contains(z+G)?z=z+G:(te.write(_.indexOf(z),Z),_.size()<4095&&(_.size()==1<<Z&&(Z+=1),_.add(z+G)),z=G)}return te.write(_.indexOf(z),Z),te.write(j,Z),te.flush(),M.toByteArray()},D=function(){var O={},C=0,j={};return j.add=function(Z){if(j.contains(Z))throw"dup key:"+Z;O[Z]=C,C+=1},j.size=function(){return C},j.indexOf=function(Z){return O[Z]},j.contains=function(Z){return typeof O[Z]<"u"},j};return F},Y=function(P,U,y){for(var T=H(P,U),S=0;S<U;S+=1)for(var F=0;F<P;F+=1)T.setPixel(F,S,y(F,S));var m=q();T.write(m);for(var d=L(),D=m.toByteArray(),O=0;O<D.length;O+=1)d.writeByte(D[O]);return d.flush(),"data:image/gif;base64,"+d};return a}();(function(){n.stringToBytesFuncs["UTF-8"]=function(a){function i(o){for(var v=[],c=0;c<o.length;c++){var h=o.charCodeAt(c);h<128?v.push(h):h<2048?v.push(192|h>>6,128|h&63):h<55296||h>=57344?v.push(224|h>>12,128|h>>6&63,128|h&63):(c++,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),v.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|h&63))}return v}return i(a)}})(),function(a){e.exports=a()}(function(){return n})}(Rn)),Rn.exports}var Sr;function os(){if(Sr)return Ye;Sr=1;var e=rs.jsx,t=Ye&&Ye.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,R){u.__proto__=R}||function(u,R){for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(u[x]=R[x])},c(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(h,f);function u(){this.constructor=h}h.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}(),n=Ye&&Ye.__assign||function(){return n=Object.assign||function(c){for(var h,f=1,u=arguments.length;f<u;f++){h=arguments[f];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},n.apply(this,arguments)};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.QRCode=void 0;var a=as(),i=is(),o=Ei(),v=function(c){t(h,c);function h(f){var u=c.call(this,f)||this;return u.canvasRef=o.createRef(),u}return h.prototype.download=function(f,u){if(this.canvasRef.current){var R=void 0;switch(f){case"jpg":R="image/jpeg";break;case"webp":R="image/webp";break;case"png":default:R="image/png";break}var x=this.canvasRef.current.toDataURL(R,1),Q=document.createElement("a");Q.download=u??"react-qrcode-logo",Q.href=x,Q.click()}},h.prototype.utf16to8=function(f){var u="",R,x,Q=f.length;for(R=0;R<Q;R++)x=f.charCodeAt(R),x>=1&&x<=127?u+=f.charAt(R):x>2047?(u+=String.fromCharCode(224|x>>12&15),u+=String.fromCharCode(128|x>>6&63),u+=String.fromCharCode(128|x>>0&63)):(u+=String.fromCharCode(192|x>>6&31),u+=String.fromCharCode(128|x>>0&63));return u},h.prototype.drawRoundedSquare=function(f,u,R,x,Q,$,k,q){q.lineWidth=f,q.fillStyle=Q,q.strokeStyle=Q,R+=f/2,u+=f/2,x-=f,Array.isArray($)||($=[$,$,$,$]),$=$.map(function(P){return P=Math.min(P,x/2),P<0?0:P});var L=$[0]||0,V=$[1]||0,H=$[2]||0,Y=$[3]||0;q.beginPath(),q.moveTo(u+L,R),q.lineTo(u+x-V,R),V&&q.quadraticCurveTo(u+x,R,u+x,R+V),q.lineTo(u+x,R+x-H),H&&q.quadraticCurveTo(u+x,R+x,u+x-H,R+x),q.lineTo(u+Y,R+x),Y&&q.quadraticCurveTo(u,R+x,u,R+x-Y),q.lineTo(u,R+L),L&&q.quadraticCurveTo(u,R,u+L,R),q.closePath(),q.stroke(),k&&q.fill()},h.prototype.drawPositioningPattern=function(f,u,R,x,Q,$,k){k===void 0&&(k=[0,0,0,0]);var q=Math.ceil(u),L,V;typeof k!="number"&&!Array.isArray(k)?(L=k.outer||0,V=k.inner||0):(L=k,V=L);var H,Y;typeof $!="string"?(H=$.outer,Y=$.inner):(H=$,Y=$);var P=x*u+R,U=Q*u+R,y=u*7;this.drawRoundedSquare(q,U,P,y,H,L,!1,f),y=u*3,P+=u*2,U+=u*2,this.drawRoundedSquare(q,U,P,y,Y,V,!0,f)},h.prototype.isInPositioninZone=function(f,u,R){return R.some(function(x){return u>=x.row&&u<=x.row+7&&f>=x.col&&f<=x.col+7})},h.prototype.transformPixelLengthIntoNumberOfCells=function(f,u){return f/u},h.prototype.isCoordinateInImage=function(f,u,R,x,Q,$,k,q){if(q){var L=2,V=this.transformPixelLengthIntoNumberOfCells(Q,k),H=this.transformPixelLengthIntoNumberOfCells($,k),Y=this.transformPixelLengthIntoNumberOfCells(R,k)-1,P=this.transformPixelLengthIntoNumberOfCells(x,k)-1;return u>=V-L&&u<=V+Y+L&&f>=H-L&&f<=H+P+L}else return!1},h.prototype.shouldComponentUpdate=function(f){return!a(this.props,f)},h.prototype.componentDidMount=function(){this.update()},h.prototype.componentDidUpdate=function(){this.update()},h.prototype.update=function(){var f,u=this.props,R=u.value,x=u.ecLevel,Q=u.enableCORS,$=u.bgColor,k=u.fgColor,q=u.logoImage,L=u.logoOpacity,V=u.logoOnLoad,H=u.removeQrCodeBehindLogo,Y=u.qrStyle,P=u.eyeRadius,U=u.eyeColor,y=u.logoPaddingStyle,T=+this.props.size,S=+this.props.quietZone,F=this.props.logoWidth?+this.props.logoWidth:0,m=this.props.logoHeight?+this.props.logoHeight:0,d=this.props.logoPadding?+this.props.logoPadding:0,D=i(0,x);D.addData(this.utf16to8(R)),D.make();var O=(f=this.canvasRef)===null||f===void 0?void 0:f.current,C=O.getContext("2d"),j=T+2*S,Z=D.getModuleCount(),_=T/Z,p=window.devicePixelRatio||1;O.height=O.width=j*p,C.scale(p,p),C.fillStyle=$,C.fillRect(0,0,j,j);var M=S,te=[{row:0,col:0},{row:0,col:Z-7},{row:Z-7,col:0}];if(C.strokeStyle=k,Y==="dots"){C.fillStyle=k;for(var ne=_/2,z=0;z<Z;z++)for(var G=0;G<Z;G++)D.isDark(z,G)&&!this.isInPositioninZone(z,G,te)&&(C.beginPath(),C.arc(Math.round(G*_)+ne+M,Math.round(z*_)+ne+M,ne/100*75,0,2*Math.PI,!1),C.closePath(),C.fill())}else if(Y==="fluid"){for(var ne=Math.ceil(_/2),z=0;z<Z;z++)for(var G=0;G<Z;G++)if(D.isDark(z,G)&&!this.isInPositioninZone(z,G,te)){var J=[!1,!1,!1,!1];z>0&&!D.isDark(z-1,G)&&G>0&&!D.isDark(z,G-1)&&(J[0]=!0),z>0&&!D.isDark(z-1,G)&&G<Z-1&&!D.isDark(z,G+1)&&(J[1]=!0),z<Z-1&&!D.isDark(z+1,G)&&G<Z-1&&!D.isDark(z,G+1)&&(J[2]=!0),z<Z-1&&!D.isDark(z+1,G)&&G>0&&!D.isDark(z,G-1)&&(J[3]=!0);var ce=Math.ceil((G+1)*_)-Math.floor(G*_),de=Math.ceil((z+1)*_)-Math.floor(z*_);C.fillStyle=k,C.beginPath(),C.arc(Math.round(G*_)+ne+M,Math.round(z*_)+ne+M,ne,0,2*Math.PI,!1),C.closePath(),C.fill(),J[0]||C.fillRect(Math.round(G*_)+M,Math.round(z*_)+M,ce/2,de/2),J[1]||C.fillRect(Math.round(G*_)+M+Math.floor(ce/2),Math.round(z*_)+M,ce/2,de/2),J[2]||C.fillRect(Math.round(G*_)+M+Math.floor(ce/2),Math.round(z*_)+M+Math.floor(de/2),ce/2,de/2),J[3]||C.fillRect(Math.round(G*_)+M,Math.round(z*_)+M+Math.floor(de/2),ce/2,de/2)}}else for(var z=0;z<Z;z++)for(var G=0;G<Z;G++)if(D.isDark(z,G)&&!this.isInPositioninZone(z,G,te)){C.fillStyle=k;var ce=Math.ceil((G+1)*_)-Math.floor(G*_),de=Math.ceil((z+1)*_)-Math.floor(z*_);C.fillRect(Math.round(G*_)+M,Math.round(z*_)+M,ce,de)}for(var I=0;I<3;I++){var N=te[I],z=N.row,G=N.col,g=P,E=void 0;Array.isArray(g)&&(g=g[I]),typeof g=="number"&&(g=[g,g,g,g]),U?Array.isArray(U)?E=U[I]:E=U:E=k,this.drawPositioningPattern(C,_,M,z,G,E,g)}if(q){var B=new Image;Q&&(B.crossOrigin="Anonymous"),B.onload=function(X){C.save();var A=F||T*.2,K=m||A,oe=(T-A)/2,ue=(T-K)/2;if(H||d){C.beginPath(),C.strokeStyle=$,C.fillStyle=$;var re=A+2*d,he=K+2*d,pe=oe+M-d,We=ue+M-d;if(y==="circle"){var et=pe+re/2,Be=We+he/2;C.ellipse(et,Be,re/2,he/2,0,0,2*Math.PI),C.stroke(),C.fill()}else C.fillRect(pe,We,re,he)}C.globalAlpha=L,C.drawImage(B,oe+M,ue+M,A,K),C.restore(),V&&V(X)},B.src=q}},h.prototype.render=function(){var f,u=+this.props.size+2*+this.props.quietZone;return e("canvas",{id:(f=this.props.id)!==null&&f!==void 0?f:"react-qrcode-logo",height:u,width:u,style:n({height:u+"px",width:u+"px"},this.props.style),ref:this.canvasRef})},h.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},h}(o.Component);return Ye.QRCode=v,Ye}var Wn=os();function Ea({onClose:e,value:t=null,settings:n=null}){Ea.propTypes={onClose:Function,value:String,settings:Object};const a=s.useRef(null);function i({target:g,retVal:E}){g.id==="qrCodeEditorDialog"&&(g.classList.add("hide"),e(E),setTimeout(()=>{g.classList.remove("hide"),g.close()},400))}function o(g){a.current&&g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),i({target:a.current,retVal:!1}))}s.useEffect(()=>{setTimeout(()=>{var E;(E=a.current)==null||E.showModal()},0);const g=a.current;if(g)return g.addEventListener("click",E=>{i({target:E.target,retVal:!1})}),g.addEventListener("keydown",E=>{o(E)}),()=>{g.removeEventListener("click",E=>{i({target:E.target,retVal:!1})}),g.removeEventListener("keydown",E=>{o(E)})}},[]),s.useEffect(()=>{c((n||se).bgColor),f((n||se).fgColor),R((n||se).size),Q((n||se).ecLevel),k((n||se).quietZone),L((n||se).enableCORS),H((n||se).logoImage),y((n||se).logoWidth),S((n||se).logoHeight),m((n||se).logoOpacity),D((n||se).removeQrCodeBehindLogo),C((n||se).logoPadding),Z((n||se).logoPaddingStyle),p((n||se).qrStyle),te((n||se).eyeRadius),z((n||se).eyeColor),J((n||se).title)},[n]);const[v,c]=s.useState((n||se).bgColor),[h,f]=s.useState((n||se).fgColor),[u,R]=s.useState((n||se).size),[x,Q]=s.useState((n||se).ecLevel),[$,k]=s.useState((n||se).quietZone),[q,L]=s.useState((n||se).enableCORS),[V,H]=s.useState((n||se).logoImage),[Y,P]=s.useState(null),[U,y]=s.useState((n||se).logoWidth),[T,S]=s.useState((n||se).logoHeight),[F,m]=s.useState((n||se).logoOpacity),[d,D]=s.useState((n||se).removeQrCodeBehindLogo),[O,C]=s.useState((n||se).logoPadding),[j,Z]=s.useState((n||se).logoPaddingStyle),[_,p]=s.useState((n||se).qrStyle),[M,te]=s.useState((n||se).eyeRadius),[ne,z]=s.useState((n||se).eyeColor),[G,J]=s.useState((n||se).title);function ce(g){g.preventDefault(),e({bgColor:v,fgColor:h,size:u,ecLevel:x,quietZone:$,enableCORS:q,logoImage:V,logoWidth:U,logoHeight:T,logoOpacity:F,removeQrCodeBehindLogo:d,logoPadding:O,logoPaddingStyle:j,qrStyle:_,eyeRadius:M,eyeColor:ne,title:G});const E=document.getElementById("qr-edit-title-input");E.value="",E.classList.remove("invalid"),i({target:a.current})}function de(g){g.preventDefault();const E=document.getElementById("qr-edit-title-input");E.value="",E.classList.remove("invalid"),e(null),i({target:a.current})}function I(g){g.preventDefault();const E=document.getElementById("qr-edit-title-input");E.value="",E.classList.remove("invalid"),e(se),i({target:a.current})}s.useEffect(()=>{const g=Math.floor(u/4),E=Math.floor(u/8),B=Math.floor(u),X=Math.floor(u),A=Math.floor(u/8);M>g&&te(g),$>E&&k(E),U>B&&y(B),T>X&&S(X),O>A&&C(A)},[u]),s.useEffect(()=>{setTimeout(()=>{if(V.base64){const g=document.getElementById("qr-logo-input"),E=V.name,B=new DataTransfer;fetch(V.base64).then(X=>X.blob()).then(X=>{B.items.add(new File([X],E)),g.files=B.files,g.dispatchEvent(new Event("change"))})}},50)},[]),s.useEffect(()=>{V.base64?fetch(V.base64).then(g=>g.blob()).then(g=>{const E=URL.createObjectURL(g);P(E)}):P(null)},[V]);function N(g){const E=g.target;E.value.length===0?(E.classList.remove("invalid"),J(se.title)):E.checkValidity()==!0?(E.classList.remove("invalid"),J(E.value)):(E.classList.add("invalid"),J(se.title)),E.reportValidity()}return r("dialog",{id:"qrCodeEditorDialog",className:"primary-card-solid",ref:a,children:w("form",{id:"qr-code-editor-dialog-form",method:"dialog",children:[w("div",{id:"qr-code-editor-divider-div",style:{display:"flex",height:"fit-content"},children:[w("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"fit-content",textAlign:"left",padding:"0em 1em",gap:"1em"},children:[r("h3",{style:{textAlign:"center",marginBottom:"1em"},children:r("label",{children:"Customize ✨"})}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[r("label",{htmlFor:"title-input",children:"Title"}),r("input",{type:"text",name:"qr-edit-title-input",id:"qr-edit-title-input",onInput:g=>{typeof g.target.reportValidity=="function"&&N(g)},pattern:"^[a-zA-Z0-9\\s\\-,\\.!?]+$",style:{borderRadius:"1em"},placeholder:G,autoComplete:"off",autoCorrect:"off",form:"qr-code-editor-dialog-form"})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[r("label",{htmlFor:"bg-color-picker",children:"Background Color"}),w("div",{style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[r(rn,{id:"bg-color-picker",color:v,onChange:c}),r("div",{type:"button",className:"swatch",onClick:()=>{c("#ffffff")},style:{backgroundColor:"#ffffff"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{c("#000000")},style:{backgroundColor:"#000000"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{c("#116699")},style:{backgroundColor:"#116699"},form:"qr-code-editor-dialog-form"})]}),r("label",{htmlFor:"bg-color-picker",children:"Foreground Color"}),w("div",{style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[r(rn,{id:"bg-color-picker",color:h,onChange:f}),r("div",{type:"button",className:"swatch",onClick:()=>{f("#ffffff")},style:{backgroundColor:"#ffffff"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{f("#000000")},style:{backgroundColor:"#000000"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{f("#116699")},style:{backgroundColor:"#116699"},form:"qr-code-editor-dialog-form"})]}),r("label",{htmlFor:"bg-color-picker",children:"Eye Color"}),w("div",{style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[r(rn,{id:"bg-color-picker",color:ne,onChange:z}),r("div",{type:"button",className:"swatch",onClick:()=>{z("#ffffff")},style:{backgroundColor:"#ffffff"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{z("#000000")},style:{backgroundColor:"#000000"},form:"qr-code-editor-dialog-form"}),r("div",{type:"button",className:"swatch",onClick:()=>{z("#116699")},style:{backgroundColor:"#116699"},form:"qr-code-editor-dialog-form"})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.35em"},children:[w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:["Error Correction Level",w("div",{className:"qr-level-input",children:[w("label",{children:[r("input",{type:"radio",name:"level",value:"L",checked:x==="L",onChange:()=>{Q("L")},form:"qr-code-editor-dialog-form"}),r("span",{children:"7%"})]}),w("label",{children:[r("input",{type:"radio",name:"level",value:"M",checked:x==="M",onChange:()=>{Q("M")},form:"qr-code-editor-dialog-form"}),r("span",{children:"15%"})]}),w("label",{children:[r("input",{type:"radio",name:"level",value:"Q",checked:x==="Q",onChange:()=>{Q("Q")},form:"qr-code-editor-dialog-form"}),r("span",{children:"25%"})]}),w("label",{children:[r("input",{type:"radio",name:"level",value:"H",checked:x==="H",onChange:()=>{Q("H")},form:"qr-code-editor-dialog-form"}),r("span",{children:"30%"})]})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:["Style",w("div",{className:"qr-level-input",children:[w("label",{children:[r("input",{type:"radio",name:"style",value:"squares",checked:_==="squares",onChange:()=>{p("squares")},form:"qr-code-editor-dialog-form"}),r("span",{children:"Squares"})]}),w("label",{children:[r("input",{type:"radio",name:"style",value:"dots",checked:_==="dots",onChange:()=>{p("dots")},form:"qr-code-editor-dialog-form"}),r("span",{children:"Dots"})]}),w("label",{children:[r("input",{type:"radio",name:"style",value:"fluid",checked:_==="fluid",onChange:()=>{p("fluid")},form:"qr-code-editor-dialog-form"}),r("span",{children:"Fluid"})]})]})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-size-input",children:["Size (",u,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-size-input",min:256,max:4096,step:1,value:u,onChange:g=>{R(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",fill:"var(--text-color)",width:"800px",height:"800px",viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"var(--text-color)",d:"M11.5 3.04999C11.7485 3.04999 11.95 3.25146 11.95 3.49999V7.49999C11.95 7.74852 11.7485 7.94999 11.5 7.94999C11.2515 7.94999 11.05 7.74852 11.05 7.49999V4.58639L4.58638 11.05H7.49999C7.74852 11.05 7.94999 11.2515 7.94999 11.5C7.94999 11.7485 7.74852 11.95 7.49999 11.95L3.49999 11.95C3.38064 11.95 3.26618 11.9026 3.18179 11.8182C3.0974 11.7338 3.04999 11.6193 3.04999 11.5L3.04999 7.49999C3.04999 7.25146 3.25146 7.04999 3.49999 7.04999C3.74852 7.04999 3.94999 7.25146 3.94999 7.49999L3.94999 10.4136L10.4136 3.94999L7.49999 3.94999C7.25146 3.94999 7.04999 3.74852 7.04999 3.49999C7.04999 3.25146 7.25146 3.04999 7.49999 3.04999L11.5 3.04999Z"})})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-margin-input",children:["Margin (",$,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-margin-input",min:0,max:Math.floor(u/8),step:1,value:$,onChange:g=>{k(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",width:"800px",height:"800px",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"var(--text-color)",d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z"})})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-eye-radius-input",children:["Eye Radius (",M,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-eye-radius-input",min:0,max:Math.floor(u/4),step:1,value:M,onChange:g=>{te(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"var(--text-color)",xmlns:"http://www.w3.org/2000/svg",children:r("path",{d:"M19 19h2v2h-2zM7 19h2v2H7zm8 0h2v2h-2zm-4 0h2v2h-2zm-8 0h2v2H3zm0-4h2v2H3zm0-8h2v2H3zm0 4h2v2H3zm0-8h2v2H3zm4 0h2v2H7zm12 12h2v2h-2zM16 3h-5v2h5c1.654 0 3 1.346 3 3v5h2V8c0-2.757-2.243-5-5-5z"})})]})]})]}),w("div",{style:{display:"flex",flexDirection:"column"},children:["Embedded Icon ","(<1MB)",w("div",{style:{display:"flex",alignItems:"center"},children:[r("input",{type:"file",name:"qr-logo-input",id:"qr-logo-input",accept:".png, .jpg, .jpeg, .gif, .webp, .svg",form:"qr-code-editor-dialog-form",style:{paddingTop:"2px"},onChange:g=>{if(g.target.value.length>0){const E=g.target.files[0],B=new FileReader;B.onload=X=>{H({name:E.name,base64:X.target.result})},E&&E.size<1*1024*1024?B.readAsDataURL(E):(document.querySelector("#qr-logo-input").value="",H({name:"",base64:""}),alert(E.name+" is either invalid or larger than the 1MB limit."))}else if(V.base64){const E=g.target,B=V.name,X=new DataTransfer;fetch(V.base64).then(A=>A.blob()).then(A=>{X.items.add(new File([A],B)),E.files=X.files,E.dispatchEvent(new Event("change"))})}}}),r("button",{type:"button",className:"qr-input-file-deselect-button",disabled:!V.base64,onClick:()=>{document.querySelector("#qr-logo-input").value="",H({name:"",base64:""})},children:r("svg",{width:"800px",height:"800px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fill:"#F44336",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})})]})]})]}),w("div",{style:{display:"flex",flexDirection:"column",height:"fit-content"},children:[r("div",{className:"qr-code-container",style:{backgroundColor:v},children:r(Wn.QRCode,{value:t,style:{width:"256px",height:"256px"},bgColor:v,fgColor:h,ecLevel:x,enableCORS:q,size:u,quietZone:$,logoImage:Y,logoWidth:U,logoHeight:T,logoOpacity:F,removeQrCodeBehindLogo:d,logoPadding:O,logoPaddingStyle:j,qrStyle:_,eyeRadius:M,eyeColor:ne})}),V.base64&&w("div",{style:{display:"flex",flexDirection:"column",marginTop:"1em",padding:"0 1em",textAlign:"left",gap:"0.5em"},children:[w("label",{className:"material-checkbox",children:[r("input",{type:"checkbox",onChange:g=>{D(g.target.checked)},form:"qr-code-editor-dialog-form"}),r("span",{className:"checkmark"}),"Excavate around icon?"]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:["Icon Padding Style",w("div",{className:"qr-level-input",children:[w("label",{children:[r("input",{type:"radio",name:"padding-style",value:"square",checked:j==="square",onChange:()=>{Z("square")},form:"qr-code-editor-dialog-form"}),r("span",{children:"Square"})]}),w("label",{children:[r("input",{type:"radio",name:"padding-style",value:"circle",checked:j==="circle",onChange:()=>{Z("circle")},form:"qr-code-editor-dialog-form"}),r("span",{children:"Circle"})]})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-logo-padding-input",children:["Icon Padding (",O,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-logo-padding-input",min:0,max:Math.floor(u/8),step:1,value:O,onChange:g=>{C(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",width:"800px",height:"800px",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"var(--text-color)",d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z"})})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-logo-height-input",children:["Icon Height (",T,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-logo-height-input",min:0,max:Math.floor(u),step:1,value:T,onChange:g=>{S(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",fill:"var(--text-color)",width:"800px",height:"800px",viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"var(--text-color)",d:"M11.5 3.04999C11.7485 3.04999 11.95 3.25146 11.95 3.49999V7.49999C11.95 7.74852 11.7485 7.94999 11.5 7.94999C11.2515 7.94999 11.05 7.74852 11.05 7.49999V4.58639L4.58638 11.05H7.49999C7.74852 11.05 7.94999 11.2515 7.94999 11.5C7.94999 11.7485 7.74852 11.95 7.49999 11.95L3.49999 11.95C3.38064 11.95 3.26618 11.9026 3.18179 11.8182C3.0974 11.7338 3.04999 11.6193 3.04999 11.5L3.04999 7.49999C3.04999 7.25146 3.25146 7.04999 3.49999 7.04999C3.74852 7.04999 3.94999 7.25146 3.94999 7.49999L3.94999 10.4136L10.4136 3.94999L7.49999 3.94999C7.25146 3.94999 7.04999 3.74852 7.04999 3.49999C7.04999 3.25146 7.25146 3.04999 7.49999 3.04999L11.5 3.04999Z"})})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-logo-width-input",children:["Icon Width (",U,"px)"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-logo-width-input",min:0,max:Math.floor(u),step:1,value:U,onChange:g=>{y(parseInt(g.target.value))},form:"qr-code-editor-dialog-form"}),r("svg",{className:"slider-icon",fill:"var(--text-color)",width:"800px",height:"800px",viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"var(--text-color)",d:"M11.5 3.04999C11.7485 3.04999 11.95 3.25146 11.95 3.49999V7.49999C11.95 7.74852 11.7485 7.94999 11.5 7.94999C11.2515 7.94999 11.05 7.74852 11.05 7.49999V4.58639L4.58638 11.05H7.49999C7.74852 11.05 7.94999 11.2515 7.94999 11.5C7.94999 11.7485 7.74852 11.95 7.49999 11.95L3.49999 11.95C3.38064 11.95 3.26618 11.9026 3.18179 11.8182C3.0974 11.7338 3.04999 11.6193 3.04999 11.5L3.04999 7.49999C3.04999 7.25146 3.25146 7.04999 3.49999 7.04999C3.74852 7.04999 3.94999 7.25146 3.94999 7.49999L3.94999 10.4136L10.4136 3.94999L7.49999 3.94999C7.25146 3.94999 7.04999 3.74852 7.04999 3.49999C7.04999 3.25146 7.25146 3.04999 7.49999 3.04999L11.5 3.04999Z"})})]})]}),w("div",{style:{display:"flex",flexDirection:"column",gap:"0.25em"},children:[w("label",{htmlFor:"qr-code-logo-opacity-input",children:["Icon Opacity (",parseInt(F*100)+"%",")"]}),w("label",{className:"slider",children:[r("input",{type:"range",className:"level",id:"qr-code-logo-opacity-input",min:0,max:1,step:.01,value:F,onChange:g=>{m(parseFloat(g.target.value))},form:"qr-code-editor-dialog-form"}),w("svg",{className:"slider-icon",width:"800px",height:"800px",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[r("path",{fill:"var(--text-color)",d:"M285.177,179l15.513-3.914-7.827-31.028-15.514,3.913a176.937,176.937,0,0,0-129.3,133.557l-3.407,15.633,31.266,6.814,3.406-15.634A145.559,145.559,0,0,1,285.177,179Z"}),r("path",{fill:"var(--text-color)",d:"M363.624,147.871C343.733,72.077,274.643,16,192.7,16,95.266,16,16,95.266,16,192.7c0,82.617,57,152.163,133.735,171.4A176.769,176.769,0,0,0,320.7,496c97.431,0,176.7-79.266,176.7-176.695C497.392,238.071,441.64,167.336,363.624,147.871ZM48,192.7C48,112.91,112.91,48,192.7,48s144.7,64.91,144.7,144.7-64.911,144.7-144.7,144.7S48,272.481,48,192.7ZM320.7,464c-60.931,0-115.21-38.854-135.843-94.792,2.6.115,5.214.184,7.843.184a176.862,176.862,0,0,0,32.7-3.047l97.625,97.625C322.247,463.983,321.473,464,320.7,464Zm41.528-6.083L260.26,355.954a176.9,176.9,0,0,0,43.662-26.072L408.37,434.33A144.385,144.385,0,0,1,362.223,457.917Zm69.3-45.692L326.851,307.557a177.082,177.082,0,0,0,27.911-44.5L457.67,365.964A144.661,144.661,0,0,1,431.519,412.225Zm33.594-84.073-99.42-99.42a176.785,176.785,0,0,0,3.7-36.036c0-3.285-.1-6.547-.276-9.787a145.054,145.054,0,0,1,96.276,136.4C465.392,322.276,465.291,325.224,465.113,328.152Z"})]})]})]})]})]})]})]}),w("div",{style:{display:"flex",justifyContent:"space-between"},className:"dialog-actions",children:[r("button",{className:"default-button red-button",id:"reset-qr-edits",value:"reset",type:"reset",title:"Reset to default",onClick:g=>I(g),form:"qr-code-editor-dialog-form",children:"Reset"}),w("div",{style:{gap:"1em",display:"flex"},children:[r("button",{className:"default-button",id:"cancel-qr-edits",value:"cancel",type:"cancel",title:"Cancel edits",onClick:g=>de(g),form:"qr-code-editor-dialog-form",children:"Cancel"}),r("button",{className:"default-button primary-button",id:"save-qr-edits",value:"default",type:"submit",title:"Save edits",onClick:g=>ce(g),form:"qr-code-editor-dialog-form",children:"Save"})]})]})]})})}function ls(){const e={url:"qr-code-url-form",text:"qr-code-text-form",email:"qr-code-email-form",phone:"qr-code-phone-form",wifi:"qr-code-wifi-form",app:"qr-code-app-form",file:"qr-code-file-form",image:"qr-code-image-form",event:"qr-code-event-form"},t=s.useRef(null),[n,a]=s.useState(""),[i,o]=s.useState(se),[v,c]=s.useState(null),[h,f]=s.useState(ha),[u,R]=s.useState(""),[x,Q]=s.useState(""),[$,k]=s.useState(""),[q,L]=s.useState(""),[V,H]=s.useState(e.url),[Y,P]=s.useState(!1);s.useEffect(()=>{i.logoImage.base64?fetch(i.logoImage.base64).then(m=>m.blob()).then(m=>{const d=URL.createObjectURL(m);c(d)}):c(null)},[i.logoImage]),s.useEffect(()=>{const m=document.getElementById(V);m&&(R(""),Q(""),V===e.wifi?(k("WPA"),L("blank")):(k(""),L("")),f(""),m.classList.remove("slide-away-active"),setTimeout(()=>{m.classList.add("slide-away-active")},50))},[V]);function U(m){if(m===V)return;const d=document.getElementById(V);d&&(d.classList.remove("slide-away-active"),setTimeout(()=>{H(m)},100))}s.useEffect(()=>{switch(V){case e.url:f(u);break;case e.text:f(u);break;case e.email:if(!u)break;f(`mailto:${encodeURIComponent(u)}?subject=${encodeURIComponent(x)}&body=${encodeURIComponent($)}`);break;case e.phone:f(`tel:${encodeURIComponent(u)}`);break;case e.file:f(`file://${encodeURIComponent(u)}`);break;case e.image:f(encodeURIComponent(u));break;case e.wifi:if(!u){f("");break}if(!$||!["WEP","WPA","nopass"].includes($)){f("");break}if($!=="nopass"&&!x){f("");break}if(q&&!["true","false","blank"].includes(q)){f("");break}f(`WIFI:S:${encodeURIComponent(u)};T:${encodeURIComponent(x)};P:${encodeURIComponent($)};H:${encodeURIComponent(q)};`);break;case e.app:f(u);break;case e.event:f(u);break;default:f("");break}},[u,x,$,q]);function y(m){m.preventDefault();const d=m.target;if(d.validity.valueMissing)switch(d.classList.remove("invalid"),f(""),d.name){case"qr-code-input-2":Q("");break;case"qr-code-input-3":k("");break;case"qr-code-input-4":L("");break;case"qr-code-input-1":default:R("");break}else if(d.checkValidity()==!0)switch(d.classList.remove("invalid"),d.name){case"qr-code-input-2":Q(d.value);break;case"qr-code-input-3":k(d.value);break;case"qr-code-input-4":L(d.value);break;case"qr-code-input-1":default:R(d.value);break}else switch(d.classList.add("invalid"),f(""),d.name){case"qr-code-input-2":Q("");break;case"qr-code-input-3":k("");break;case"qr-code-input-4":L("");break;case"qr-code-input-1":default:R("");break}d.reportValidity()}function T(m){m&&o(m),setTimeout(()=>{P(!1)},401)}async function S(m){var p;m.preventDefault();const d=document.getElementById("download-qr-code-button");d.classList.toggle("button--loading"),d.disabled=!0;const{data:{user:D}}=await fe.auth.getUser();if(D){const{data:{qrcodes:M}}=await fe.from("profiles").select("qrcodes").eq("id",D.id).limit(1).single();M===null?await fe.from("profiles").update({qrcodes:[{id:Math.random()*1e9+new Date().getTime(),created_at:new Date().toISOString(),value:h,settings:i}]}).eq("id",D.id):await fe.from("profiles").update({qrcodes:[...M,{id:Math.random()*1e9+new Date().getTime(),created_at:new Date().toISOString(),value:h,settings:i}]}).eq("id",D.id)}await((p=t.current)==null?void 0:p.download("png",i.title)),d.classList.toggle("button--loading"),d.removeAttribute("disabled");var O=1.25*1e3,C=Date.now()+O,j={startVelocity:30,spread:360,ticks:60,zIndex:0};function Z(M,te){return Math.random()*(te-M)+M}var _=setInterval(function(){var M=C-Date.now();if(M<=0)return clearInterval(_);var te=50*(M/O);confetti({...j,particleCount:te,colors:["#80C2D9"],disableForReducedMotion:!0,origin:{x:Z(.1,.3),y:Math.random()-.2}}),confetti({...j,particleCount:te,colors:["#80C2D9"],disableForReducedMotion:!0,origin:{x:Z(.7,.9),y:Math.random()-.2}})},250)}return w(Xe,{children:[Y&&r(Ea,{onClose:T,value:h,settings:i}),w("div",{id:`${Ke}-card`,className:`card ${Ke} primary-card-blurred op-slide-away-right`,style:{},children:[r("h2",{style:{marginBottom:"2em"},children:"Generate a QR Code ⚡"}),w("div",{className:`card-contents ${Ke}`,children:[w("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},children:[w("div",{style:{display:"flex",justifyContent:"left",flexWrap:"wrap",gap:"0.5em",margin:"1em 0"},children:[r("button",{className:"default-button",name:"tab",type:"button",onClick:()=>{U(e.url)},title:"Open a link",children:"Link"}),r("button",{className:"default-button",name:"tab",type:"button",onClick:()=>{U(e.text)},title:"Display text",children:"Text"}),r("button",{className:"default-button",name:"tab",type:"button",onClick:()=>{U(e.email)},title:"Draft an email",children:"E-mail"}),r("button",{className:"default-button",name:"tab",type:"button",onClick:()=>{U(e.phone)},title:"Dial a phone number",children:"Phone"}),r("button",{className:"default-button",name:"tab",type:"button",onClick:()=>{U(e.wifi)},title:"Connect to a WiFi network",children:"WiFi"})]}),F()]}),w("div",{style:{display:"flex",flexDirection:"column",height:"fit-content",alignItems:"center"},children:[w("div",{className:"qr-code-container",style:{marginBottom:"1em",backgroundColor:i.bgColor},children:[r("button",{type:"button",className:"edit-qr-code-button",onClick:()=>P(!0),title:"Open QR Code Editor",children:r("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#000000",d:"m3.99 16.854-1.314 3.504a.75.75 0 0 0 .966.965l3.503-1.314a3 3 0 0 0 1.068-.687L18.36 9.175s-.354-1.061-1.414-2.122c-1.06-1.06-2.122-1.414-2.122-1.414L4.677 15.786a3 3 0 0 0-.687 1.068zm12.249-12.63 1.383-1.383c.248-.248.579-.406.925-.348.487.08 1.232.322 1.934 1.025.703.703.945 1.447 1.025 1.934.058.346-.1.677-.348.925L19.774 7.76s-.353-1.06-1.414-2.12c-1.06-1.062-2.121-1.415-2.121-1.415z"})})}),r(Wn.QRCode,{ref:t,value:h,style:{width:"256px",height:"256px"},bgColor:i.bgColor,fgColor:i.fgColor,ecLevel:i.ecLevel,enableCORS:i.enableCORS,size:i.size,quietZone:i.quietZone,logoImage:v,logoWidth:i.logoWidth,logoHeight:i.logoHeight,logoPadding:i.logoPadding,logoOpacity:i.logoOpacity,logoPaddingStyle:i.logoPaddingStyle,removeQrCodeBehindLogo:i.removeQrCodeBehindLogo,qrStyle:i.qrStyle,eyeRadius:i.eyeRadius,eyeColor:i.eyeColor})]}),r("button",{type:"button",id:"download-qr-code-button",className:"default-button",disabled:h==="",title:"Download QR Code",onClick:m=>S(m),style:{borderRadius:"1em",padding:"0.5em 1.25em",position:"relative",width:"fit-content"},children:w("span",{className:"button__text",style:{fontSize:"1.35em",paddingBottom:"0.1em",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5em"},children:[r("svg",{alt:"Download QR Code",id:"download-qr-code-icon",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("g",{id:"Interface / Download",children:r("path",{id:"Vector",d:"M6 21H18M12 3V17M12 17L17 12M12 17L7 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),"Save"]})})]})]})]})]});function F(){switch(V){case e.text:return w("div",{id:e.text,className:"slide-away",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[r("p",{style:{paddingBottom:"1em"},children:"Show some text through a QR Code."}),r("textarea",{type:"text",name:"qr-code-input-1",id:"text-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em",resize:"vertical"},placeholder:"type or paste your text here...",autoComplete:"off"})]});case e.email:return r("form",{id:e.email,className:"slide-away",children:w("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",gap:"1em"},children:[r("p",{children:"Send an email through a QR Code."}),r("input",{type:"email",name:"qr-code-input-1",id:"email-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"enter an email address...",autoComplete:"off",autoCorrect:"off",required:!0}),r("input",{type:"text",name:"qr-code-input-2",id:"email-subject-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"enter an email subject...",autoComplete:"off",autoCorrect:"off"}),r("textarea",{type:"text",name:"qr-code-input-3",id:"email-text-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em",resize:"vertical"},placeholder:"type or paste your email content here...",autoComplete:"off"})]})});case e.phone:return w("div",{id:e.phone,className:"slide-away",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[r("label",{htmlFor:"phone-input",style:{paddingBottom:"1em"},children:"Enter a phone number show through a QR Code. Each block should be seperated by a hyphen (-). For example: 123-456-7890"}),r("input",{type:"tel",name:"qr-code-input-1",id:"phone-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"___-___-____",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",autoComplete:"off",autoCorrect:"off"})]});case e.wifi:return w("div",{id:e.wifi,className:"slide-away",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",gap:"1em"},children:[r("p",{children:"Connect to a WiFi network after scanning."}),r("input",{type:"text",name:"qr-code-input-1",id:"wifi-ssid-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"enter WiFi SSID...",autoComplete:"off",autoCorrect:"off"}),r("input",{type:"password",name:"qr-code-input-2",id:"wifi-pas-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"enter WiFi password...",autoComplete:"off",autoCorrect:"off"}),w("div",{style:{display:"flex",width:"80%",alignItems:"center",gap:"0.5em"},children:[r("label",{htmlFor:"qr-code-wifi-enc-type",value:"qr-code-wifi-enc-type",children:"Encryption Type:"}),r("div",{className:"select-wrapper",children:w("select",{onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},name:"qr-code-input-3",defaultValue:$,style:{width:"75px"},children:[r("option",{value:"WPA",children:"WPA"}),r("option",{value:"WEP",children:"WEP"}),r("option",{value:"nopass",children:"None"})]})})]}),w("div",{style:{display:"flex",width:"80%",alignItems:"center",gap:"0.5em"},children:[r("label",{htmlFor:"qr-code-wifi-hidden-ssid",value:"qr-code-wifi-hidden-ssid",children:"Is SSID hidden:"}),r("div",{className:"select-wrapper",children:w("select",{onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},name:"qr-code-input-4",defaultValue:q,style:{width:"75px"},children:[r("option",{value:"blank",children:"Blank"}),r("option",{value:"true",children:"True"}),r("option",{value:"false",children:"False"})]})})]})]});case e.app:return r("div",{id:e.app,className:"slide-away"});case e.file:return w("div",{id:e.file,className:"slide-away",children:[r("p",{children:"QR Code will resolve to a file."}),r("p",{children:"Select the file you wish to share."}),r("p",{style:{color:"var(--accent-color)"},children:"Maximum file size: 10MB"}),w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1em"},children:[r("input",{type:"file",id:"qr-file-input",name:"qr-code-input-1",accept:"application/*",onChange:m=>{m.target.value.length>0&&a(m.target.files[0])},value:n}),r("button",{type:"button",className:"qr-input-file-deselect-button",disabled:!n,onClick:()=>{document.querySelector("#qr-file-input").value="",a("")},children:r("svg",{width:"800px",height:"800px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fill:"#F44336",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})})]})]});case e.image:return w("div",{id:e.image,className:"slide-away",children:[r("p",{children:"QR Code will resolve to an image."}),r("p",{children:"Select the image you wish to share."}),r("p",{style:{color:"var(--accent-color)"},children:"Maximum file size: 10MB"}),w("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1em"},children:[r("input",{type:"file",id:"qr-image-input",name:"qr-code-input-1",accept:".png, .jpg, .jpeg, .gif, .webp, .svg",onChange:m=>{m.target.value.length>0&&a(m.target.files[0])},value:n}),r("button",{type:"button",className:"qr-input-file-deselect-button",disabled:!n,onClick:()=>{document.querySelector("#qr-image-input").value="",a("")},children:r("svg",{width:"800px",height:"800px",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:r("path",{fill:"#F44336",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})})})]})]});case e.event:return r("div",{id:e.event,className:"slide-away"});case e.url:default:return w("div",{id:e.url,className:"slide-away slide-away-active",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[r("p",{children:"Link a website through a QR Code!"}),r("p",{style:{paddingBottom:"1em"},children:"Opens the URL after scanning."}),r("input",{type:"url",name:"qr-code-input-1",id:"link-input",onInput:m=>{typeof m.target.reportValidity=="function"&&y(m)},style:{borderRadius:"1em"},placeholder:"type or paste your link here...",pattern:"https?:\\/\\/.+",autoComplete:"off",autoCorrect:"off"})]})}}}function Sa({onDoneLoading:e}){Sa.propTypes={onDoneLoading:Function};const[t,n]=s.useState(!1);function a(i){if(i===t)return;const o=t?document.getElementById(`${Ke}-card`):document.getElementById(`${Se}-card`);o&&(o.classList.remove("op-slide-away-active"),setTimeout(()=>{n(i)},150))}return s.useEffect(()=>{const i=t?document.getElementById(`${Ke}-card`):document.getElementById(`${Se}-card`);i&&(i.classList.remove("op-slide-away-active"),setTimeout(()=>{i.classList.add("op-slide-away-active")},50))},[t]),w(Xe,{children:[w("div",{className:"operation-selector primary-card-blurred",children:[w("label",{children:[r("input",{value:"value-1",name:"value-radio",id:"value-1",type:"radio",defaultChecked:!0,onChange:()=>a(!1),title:"Shorten a URL"}),r("span",{title:"Shorten a URL",children:"Shorten URL"})]}),w("label",{children:[r("input",{value:"value-2",name:"value-radio",id:"value-2",type:"radio",onChange:()=>a(!0),title:"Generate a QR Code"}),r("span",{title:"Generate a QR Code",children:"QR Code Generator"})]}),r("span",{className:"selection"})]}),r("div",{className:"card-container",children:t?r(ls,{}):r(ya,{onDoneLoading:e})})]})}function La({item:e,userRole:t}){La.propTypes={item:ql,userRole:String};const n=s.useRef(),[a,i]=s.useState(!1),o=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function v(h){h.preventDefault(),navigator.clipboard.writeText("https://url.setulp.com/"+e.id);const f=document.getElementById(`link-item-button-${o}`);if(f){f.classList.add("button--done");var u=10;confetti({particleCount:u,drift:0,startVelocity:7,decay:.95,spread:360,ticks:60,zIndex:0,gravity:0,colors:["#80C2D9"],origin:{x:h.clientX/window.innerWidth,y:h.clientY/window.innerHeight}}),setTimeout(()=>{f.classList.remove("button--done")},1e3)}}async function c(h){if(h){if(!n.current)return;n.current.classList.toggle("button--loading");const{data:{user:f}}=await fe.auth.getUser();if(!f)return;const{error:u}=await fe.from("links").delete().eq("id",e.id);u&&(n.current.classList.toggle("button--loading"),n.current.classList.toggle("button--error"))}setTimeout(()=>{i(!1)},401)}return w(Xe,{children:[a&&r(Rr,{onClose:c,title:"Delete URL",text:"Are you sure you want to permanently delete this URL? This link will no longer work.",data:["https://url.setulp.com/"+e.id,e.long_url]}),r("div",{ref:n,className:"link-item-container primary-card-solid",children:r("span",{className:"button__text",style:{width:"100%",height:"100%"},children:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%"},children:[r("div",{style:{display:"flex",alignItems:"center",flexShrink:0},children:r("svg",{alt:"Link icon",className:"link-item-icon-1",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r("path",{stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M10 8H6C4.34315 8 3 9.34315 3 11V13C3 14.6569 4.34315 16 6 16H10M9 12H15M14 8H18C19.6569 8 21 9.34315 21 11V13C21 14.6569 19.6569 16 18 16H14"})})}),w("div",{className:"link-item-text",style:{flexGrow:1,overflow:"hidden"},children:[r("h3",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.id}),r("p",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.long_url}),(t==="admin"||t==="vip")&&r("p",{style:{fontSize:"smaller",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Visits: "+e.times_visited}),r("p",{style:{fontSize:"smaller",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Created: "+new Date(e.created_at).toLocaleString()}),r("p",{style:{fontSize:"smaller",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Expires: "+(e.expires_at?new Date(e.expires_at).toLocaleString():"Never")}),r("button",{className:"default-button red-button",style:{margin:"0",padding:"0"},title:"Delete short URL forever",onClick:()=>i(!0),children:"Delete"})]}),r("div",{style:{flexShrink:0},children:r("button",{id:`link-item-button-${o}`,className:"default-button primary-button link-item-button",style:{position:"relative"},title:"Copy URL",onClick:v,children:r("span",{className:"button__text",children:"Copy"})})})]})})})]})}function Ra({item:e}){Ra.propTypes={item:Fl};const t=s.useRef(null),n=s.useRef(null),[a,i]=s.useState(!1),[o,v]=s.useState(null);s.useEffect(()=>{e.settings.logoImage.base64?fetch(e.settings.logoImage.base64).then(f=>f.blob()).then(f=>{const u=URL.createObjectURL(f);v(u)}):v(null)},[e.settings.logoImage]);function c(f){f.preventDefault(),n.current.download("png",e.settings.title);const u=document.getElementById(`link-item-button-${e.id}`);if(u){u.classList.toggle("button--done");var R=10;confetti({particleCount:R,drift:0,startVelocity:7,decay:.95,spread:360,ticks:60,zIndex:0,gravity:0,colors:["#80C2D9"],origin:{x:f.clientX/window.innerWidth,y:f.clientY/window.innerHeight}}),setTimeout(()=>{u.classList.toggle("button--done")},1e3)}}async function h(f){if(f){if(!t.current)return;t.current.classList.toggle("button--loading");const{data:{user:u}}=await fe.auth.getUser();if(!u)return;const{data:{qrcodes:R}}=await fe.from("profiles").select("qrcodes").eq("id",u.id).limit(1).single(),{error:x}=await fe.from("profiles").update({qrcodes:R.filter(Q=>Q.id!==e.id)}).eq("id",u.id);x&&(t.current.classList.toggle("button--loading"),t.current.classList.toggle("button--error"))}setTimeout(()=>{i(!1)},401)}return w(Xe,{children:[a&&r(Rr,{onClose:h,title:"Delete QR Code",text:"Are you sure you want to permanently delete this QR Code? This action cannot be undone.",data:[e.settings.title,e.value]}),r("div",{ref:t,className:"link-item-container primary-card-solid",children:r("span",{className:"button__text",style:{width:"100%",height:"100%"},children:w("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%"},children:[r("div",{className:"link-item-icon-2",style:{display:"flex",alignItems:"center",flexShrink:0},children:r(Wn.QRCode,{value:e.value,ref:n,id:"qrcode-item-icon",style:{width:"inherit",height:"inherit"},bgColor:e.settings.bgColor,fgColor:e.settings.fgColor,ecLevel:e.settings.ecLevel,enableCORS:e.settings.enableCORS,size:e.settings.size,quietZone:e.settings.quietZone,logoImage:o,logoWidth:e.settings.logoWidth,logoHeight:e.settings.logoHeight,logoOpacity:e.settings.logoOpacity,logoPadding:e.settings.logoPadding,logoPaddingStyle:e.settings.logoPaddingStyle,removeQrCodeBehindLogo:e.settings.removeQrCodeBehindLogo,qrStyle:e.settings.qrStyle,eyeRadius:e.settings.eyeRadius,eyeColor:e.settings.eyeColor})}),w("div",{className:"link-item-text",style:{flexGrow:1,overflow:"hidden"},children:[r("h3",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.settings.title}),r("p",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.value}),w("p",{style:{fontSize:"smaller",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[" ","Created: "+new Date(e.created_at).toLocaleString()]}),r("button",{type:"button",className:"default-button red-button",style:{margin:"0",padding:"0"},title:"Delete QR Code forever",onClick:()=>i(!0),children:"Delete"})]}),r("div",{style:{flexShrink:0},children:r("button",{type:"button",id:`link-item-button-${e.id}`,className:"default-button primary-button link-item-button",style:{position:"relative"},title:"Download QR Code",onClick:c,children:r("span",{className:"button__text",children:"Download"})})})]})})})]})}const ss="/assets/login_illustration-Dy85wO-w.svg",cs="/assets/empty_illustration-BuCtJAIX.svg";function _a({onDoneLoading:e}){_a.propTypes={onDoneLoading:Function};const[t,n]=s.useState([]),[a,i]=s.useState(null),[o,v]=s.useState(null),c=s.useRef({linksSubscription:null,qrcodesSubscription:null});return s.useEffect(()=>{const{data:{subscription:h}}=fe.auth.onAuthStateChange((f,u)=>{i((u==null?void 0:u.user)??null)});return()=>h.unsubscribe()},[]),s.useEffect(()=>{if(!a){c.current.linksSubscription&&c.current.linksSubscription.unsubscribe(),c.current.qrcodesSubscription&&c.current.qrcodesSubscription.unsubscribe(),c.current={linksSubscription:null,qrcodesSubscription:null},e();return}(async()=>{const[{data:x},{data:{qrcodes:Q}}]=await Promise.all([fe.from("links").select("*").eq("author",a.id),fe.from("profiles").select("qrcodes").eq("id",a.id).limit(1).single()]);x&&x.forEach(L=>L.type=Se),Q&&Q.forEach(L=>L.type=Ke);const $=[...x||[],...Q||[]].sort((L,V)=>new Date(V.created_at)-new Date(L.created_at)),{data:k,error:q}=await fe.from("user_roles").select("role").eq("id",a==null?void 0:a.id).limit(1).single();!q&&k&&v(k.role),n($),e()})();const h=fe.channel("realtime:public:links"),f=fe.channel("realtime:public:profiles"),u=h.on("postgres_changes",{event:"INSERT",schema:"public",table:"links",filter:`author=eq.${a.id}`},x=>{n(Q=>[...Q,{...x.new,type:Se}].sort(($,k)=>new Date(k.created_at)-new Date($.created_at)))}).on("postgres_changes",{event:"INSERT",schema:"public",table:"deleted_links",filter:`author=eq.${a.id}`},x=>{n(Q=>Q.filter($=>$.id!==x.new.id).sort(($,k)=>new Date(k.created_at)-new Date($.created_at)))}).subscribe(),R=f.on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${a.id}`},x=>{n(Q=>{const $=Q.filter(q=>q.type!==Ke),k=(x.new.qrcodes||[]).map(q=>({...q,type:Ke}))||[];return[...$,...k].sort((q,L)=>new Date(L.created_at)-new Date(q.created_at))})}).subscribe();return c.current={linksSubscription:u,qrcodesSubscription:R},()=>{c.current.linksSubscription&&c.current.linksSubscription.unsubscribe(),c.current.qrcodesSubscription&&c.current.qrcodesSubscription.unsubscribe(),c.current={linksSubscription:null,qrcodesSubscription:null}}},[a,e]),w(Ee.Root,{activeSnapPoint:1,children:[r(Ee.Trigger,{type:"button",id:"my-links-button",className:"default-button",title:"View my generated links and QR codes",children:"My Stuff"}),w(Ee.Portal,{children:[r(Ee.Overlay,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)"}}),w(Ee.Content,{className:"primary-card-solid",style:{height:"100%",position:"fixed",bottom:0,left:0,right:0,outline:"none",display:"flex",flexDirection:"column",borderRadius:"2em 2em 0 0",maxHeight:"80%",marginLeft:"-1px",marginRight:"-1px"},children:[r("div",{"aria-hidden":!0,style:{marginLeft:"auto",marginRight:"auto",width:"3rem",height:"0.375rem",flexShrink:0,borderRadius:"9999px",backgroundColor:"var(--text-color)",marginTop:"1rem",marginBottom:"1rem"}}),r(Ee.Title,{style:{textAlign:"center",marginBottom:"1em"},children:"My Links and QR Codes"}),a?t.length===0?w("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"0 1em"},children:[r("img",{src:cs,alt:"Empty Illustration",style:{width:"50%",height:"50%",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}}),r("h3",{children:"Nothing saved yet 🤷‍♂️"}),r("p",{children:"Generate a link or save a QR code and it will show up here!"})]}):r("div",{style:{margin:"0rem 0rem 1rem 1rem",overflowY:"auto",overflowX:"none"},children:r("div",{style:{marginRight:"1rem",gap:"1rem",display:"flex",flexDirection:"column",alignItems:"center",flex:"1 1 auto"},children:t.map(h=>h.type===Se?r(La,{item:h,userRole:o},h.id):r(Ra,{item:h},h.id))})}):w("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"0 1em"},children:[r("img",{src:ss,alt:"Login Illustration",style:{height:"50%",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}}),r("h3",{children:"You are not signed in 🗝️"}),r("p",{children:"Login in or create an account to save your links and QR codes!"})]})]})]})]})}function us({theme:e,toggleTheme:t}){us.propTypes={theme:String,toggleTheme:Function};const[n,a]=s.useState(!1),[i,o]=s.useState(!1),[v,c]=s.useState(!1);return s.useEffect(()=>{if(n&&i&&v){const h=document.querySelector(".website-loader-container");h&&(h.style.opacity="0",setTimeout(()=>{h.remove()},400))}},[n,i,v]),w(Xe,{children:[r("div",{className:"website-loader-container",children:r(Lr,{})}),r(Si,{}),r(Li,{}),r(Ri,{theme:e,toggleTheme:t,title:"shortUrl",trailing:r(pa,{onDoneLoading:()=>a(!0)})}),w("div",{className:"container",children:[r(Sa,{onDoneLoading:()=>c(!0)}),r("div",{children:r(_a,{onDoneLoading:()=>o(!0)})})]}),w("footer",{className:"footer",style:{fontFamily:"Kaushan Script",transition:"color var(--quick-transition-duration) var(--primary-curve)"},children:["Copyright © 2025 Setul Parekh. All rights reserved. | ",r("button",{className:"link",onClick:()=>window.privacyPolicyDialog.showModal(),children:"Privacy Policy 🙊"})," | ",r("button",{className:"link",onClick:()=>window.open("https://www.setulp.com","_blank"),children:"My Portfolio 📂"})]})]})}export{us as default};
